!function(){"use strict";const t="freewheel",e="playing",n="external",r=n,i="time",o="__jwpseg__",s="instream",a="article",u={[[s]]:1,[["banner"]]:2,[[a]]:3,[["feed"]]:4,[["floating"]]:5,[["interstitial"]]:5,[["slider"]]:5},l="adError",c="adBreakStart",f="adBreakEnd",h="adSkipped",p="jw-flag-ads-vpaid",d="jw-flag-ads-freewheel",g="jw-freewheel-before-impression",_=(t,e)=>({begin:t._offSet,text:e,cueType:"ads",adId:t.adBreakId});class v{constructor(t,e,n,r){this.client=r,this.player=t,this.pluginConfig=e,this.div=n,this.utils=this.player.utils,this.playerConfig=this.player.getConfig(),this.playlistItemManager=null,this.playerKey=this.playerConfig.key,this.casting=!1,this.player.pauseAd=this.pauseAd.bind(this),this.player.skipAd=this.skipAd.bind(this),this.player.skipAdBreak=this.skipAdBreak.bind(this),this.destroyAdsManager=this.destroyAdsManager.bind(this),this.handleDependencyError=this.handleDependencyError.bind(this),this.sendCues=this.sendCues.bind(this)}lateInitAfterReady(){this.onReady();const t=this.player.getPlaylistItem();t&&this.onPlaylistItemCallback({item:t,index:this.player.getPlaylistIndex()})}onReady(){throw new Error("Not implemented.")}onPlaylistItemCallback(){throw new Error("Not implemented.")}destroyAdsManager(){this.playlistItemManager&&(this.playlistItemManager.destroy(),this.playlistItemManager=null)}handleDependencyError(e,n){this.destroyAdsManager(),this.player.off(null,null,this),this.client===t&&(this.player.playAd=this.utils.noop),this.player.trigger(l,{id:"-1",client:this.client,message:e,code:900,adErrorCode:n,tag:""})}pauseAd(t,e=null){this.playlistItemManager&&(t?this.playlistItemManager.pause(e||{}):this.playlistItemManager.resume(e||{}))}skipAd(){var t;null!=this&&null!=(t=this.playlistItemManager)&&t.skipAd&&this.playlistItemManager.skipAd()}skipAdBreak(){var t;null!=this&&null!=(t=this.playlistItemManager)&&t.skipAdBreak&&this.playlistItemManager.skipAdBreak()}sendCues(t,e){const n=t.getMidRolls(),r=[];t.preRoll&&r.push(_(t.preRoll,e)),n.length&&n.forEach((t=>{"nonlinear"!==t._type&&r.push(_(t,e))})),t.postRoll&&r.push(_(t.postRoll,e)),this.player.addCues(r)}resetCues(){const t=this.player.getCues().filter((t=>"ads"!==t.cueType));this.player.setCues(t)}}const y=function(t,e,n,r){if(0!==r.indexOf(t))return!1;const i=parseFloat(r.slice(t.length));return!(i<e||i>n)&&i},m=y.bind(null,"800000",10,90),w=y.bind(null,"900000",10,90),b=y.bind(null,"JWIAB",1,999),A=y.bind(null,"120321",10,90),E=y.bind(null,"120241",10,90),I=y.bind(null,"18010",1,698),C=["18020012"],S=/^[^:/?#]+:?\/\/[^/?#]+/,P=t=>t?new URL(t).hostname:"",T=(t,e=document.location.search)=>{if(t)return new URLSearchParams(e).getAll(t)},k=/^(https?:\/\/).*.(?:ampproject.org|bing-amp.com)\/(?:.\/)*(.*)\/amp.*$/,O=function(){if(!((t,e)=>{if(t)return new URLSearchParams(t).has(e)})(document.location.search,"isAMP"))return;const t=T("consentValue").join(),e=T("consentGdpr").join();return t||e?{gdprApplies:e,consentData:t}:void 0},L=Date.now||function(){return(new Date).getTime()},x=t=>{const e=(t=>{let e=window;for(;e;){try{if(e.frames[t])break}catch(t){}e=e===window.top?null:e.parent}return e})(`${t}Locator`);return null!==e&&function(n,r,i,o){const s=L(),a=e=>{let n=e?e.data:{};if("string"==typeof n)try{n=JSON.parse(n)}catch(t){n={}}const r=`${t}Return`;n[r]&&n[r].callId===s&&(removeEventListener("message",a),i(n[r].returnValue,n[r].success))};window.addEventListener("message",a,!1);const u=void 0!==o?"version":"parameter",l={[[`${t}Call`]]:{command:n,callId:s,parameter:o,[[u]]:r}};e.postMessage(JSON.stringify(l),"*")}};let R=null,j={gdprApplies:!0,consentData:""};const M=function(t){const e=t.advertising;if(null!=e&&e.placement){const t=e.placement.toLowerCase();if(u[t])return u[t]}return u[null!=e&&e.outstream?a:s]},D=function(){const t=(e=document.referrer)&&null!==e.match(S)?function(t){const e=t.match(k);return e&&e.length>1?`${e[1]}${e[2]}`:t}(document.referrer):"";var e;if(window.top!==window.self){try{return{url:window.top.location.href,domain:window.top.document.domain,referrer:t}}catch(t){}return{url:t,domain:P(t),referrer:""}}return{url:document.location.href,domain:document.domain,referrer:t}},N=function(t,e,n=!0){if("start"===t||"0%"===t||n&&!t&&0!==t)return"pre";if("end"===t||"100%"===t)return"post";if("string"==typeof t&&("pre"===t||"post"===t||t.indexOf("%")>=0))return t;const r=e.seconds(t);return"number"==typeof r&&!isNaN(r)&&r},U=function(t,e){const n=t.getPlugin("inference"),r=e.jwpseg_client_side,i=e.jwpseg||[];let o;if(!r||!r.length||!n)return i;try{o=n.predict(r,e)}catch(t){return e.jwpseg||[]}return[...Object.keys(o).filter((t=>o[t])),...i.filter((t=>-1===r.indexOf(t)))]},B=function(t){const e=[],n=[],r=[],i=[];let o=Boolean(t.some((t=>/^1/.test(String(t)))));for(let i of t){"string"!=typeof i&&(i=String(i));const t=m(i);if(t){e.push(t);continue}const s=A(i);if(s){e.push(s);continue}const a=w(i);if(a){n.push(a);continue}const u=E(i);if(u){n.push(u);continue}const l=b(i);if(l){r.push(l);continue}const c=I(i);c?r.push(c):C.includes(String(i))?o=!1:"JWBRSAFE"!==i||(o=!0)}if(o&&i.push(1),e.length||n.length||r.length||i.length){const t={hb_jwvb:e,hb_jwcr:n,hb_jwiab:r,hb_jwbs:i};return Object.keys(t).forEach((e=>{t[e]=[...new Set(t[e])]})),t}return null},V=(t,e=!1)=>{const n=e?0===t.getPosition()&&"idle"===t.getState():0===t.getPosition();return t.isBeforePlay()||n?"pre":t.isBeforeComplete()||t.getPosition()===t.getDuration()?"post":"mid"};var $,z,F="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},W={exports:{}};
/**
   * @license
   * Lodash <https://lodash.com/>
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   */
$=W,z=W.exports,function(){var t,e="Expected a function",n="__lodash_hash_undefined__",r="__lodash_placeholder__",i=16,o=32,s=64,a=128,u=256,l=1/0,c=9007199254740991,f=NaN,h=4294967295,p=[["ary",a],["bind",1],["bindKey",2],["curry",8],["curryRight",i],["flip",512],["partial",o],["partialRight",s],["rearg",u]],d="[object Arguments]",g="[object Array]",_="[object Boolean]",v="[object Date]",y="[object Error]",m="[object Function]",w="[object GeneratorFunction]",b="[object Map]",A="[object Number]",E="[object Object]",I="[object Promise]",C="[object RegExp]",S="[object Set]",P="[object String]",T="[object Symbol]",k="[object WeakMap]",O="[object ArrayBuffer]",L="[object DataView]",x="[object Float32Array]",R="[object Float64Array]",j="[object Int8Array]",M="[object Int16Array]",D="[object Int32Array]",N="[object Uint8Array]",U="[object Uint8ClampedArray]",B="[object Uint16Array]",V="[object Uint32Array]",W=/\b__p \+= '';/g,q=/\b(__p \+=) '' \+/g,Y=/(__e\(.*?\)|\b__t\)) \+\n'';/g,K=/&(?:amp|lt|gt|quot|#39);/g,G=/[&<>"']/g,Z=RegExp(K.source),H=RegExp(G.source),J=/<%-([\s\S]+?)%>/g,Q=/<%([\s\S]+?)%>/g,X=/<%=([\s\S]+?)%>/g,tt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,et=/^\w*$/,nt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rt=/[\\^$.*+?()[\]{}|]/g,it=RegExp(rt.source),ot=/^\s+/,st=/\s/,at=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ut=/\{\n\/\* \[wrapped with (.+)\] \*/,lt=/,? & /,ct=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ft=/[()=,{}\[\]\/\s]/,ht=/\\(\\)?/g,pt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,dt=/\w*$/,gt=/^[-+]0x[0-9a-f]+$/i,_t=/^0b[01]+$/i,vt=/^\[object .+?Constructor\]$/,yt=/^0o[0-7]+$/i,mt=/^(?:0|[1-9]\d*)$/,wt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,bt=/($^)/,At=/['\n\r\u2028\u2029\\]/g,Et="\\ud800-\\udfff",It="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ct="\\u2700-\\u27bf",St="a-z\\xdf-\\xf6\\xf8-\\xff",Pt="A-Z\\xc0-\\xd6\\xd8-\\xde",Tt="\\ufe0e\\ufe0f",kt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ot="['’]",Lt="["+Et+"]",xt="["+kt+"]",Rt="["+It+"]",jt="\\d+",Mt="["+Ct+"]",Dt="["+St+"]",Nt="[^"+Et+kt+jt+Ct+St+Pt+"]",Ut="\\ud83c[\\udffb-\\udfff]",Bt="[^"+Et+"]",Vt="(?:\\ud83c[\\udde6-\\uddff]){2}",$t="[\\ud800-\\udbff][\\udc00-\\udfff]",zt="["+Pt+"]",Ft="\\u200d",Wt="(?:"+Dt+"|"+Nt+")",qt="(?:"+zt+"|"+Nt+")",Yt="(?:['’](?:d|ll|m|re|s|t|ve))?",Kt="(?:['’](?:D|LL|M|RE|S|T|VE))?",Gt="(?:"+Rt+"|"+Ut+")?",Zt="["+Tt+"]?",Ht=Zt+Gt+"(?:"+Ft+"(?:"+[Bt,Vt,$t].join("|")+")"+Zt+Gt+")*",Jt="(?:"+[Mt,Vt,$t].join("|")+")"+Ht,Qt="(?:"+[Bt+Rt+"?",Rt,Vt,$t,Lt].join("|")+")",Xt=RegExp(Ot,"g"),te=RegExp(Rt,"g"),ee=RegExp(Ut+"(?="+Ut+")|"+Qt+Ht,"g"),ne=RegExp([zt+"?"+Dt+"+"+Yt+"(?="+[xt,zt,"$"].join("|")+")",qt+"+"+Kt+"(?="+[xt,zt+Wt,"$"].join("|")+")",zt+"?"+Wt+"+"+Yt,zt+"+"+Kt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",jt,Jt].join("|"),"g"),re=RegExp("["+Ft+Et+It+Tt+"]"),ie=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,oe=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],se=-1,ae={};ae[x]=ae[R]=ae[j]=ae[M]=ae[D]=ae[N]=ae[U]=ae[B]=ae[V]=!0,ae[d]=ae[g]=ae[O]=ae[_]=ae[L]=ae[v]=ae[y]=ae[m]=ae[b]=ae[A]=ae[E]=ae[C]=ae[S]=ae[P]=ae[k]=!1;var ue={};ue[d]=ue[g]=ue[O]=ue[L]=ue[_]=ue[v]=ue[x]=ue[R]=ue[j]=ue[M]=ue[D]=ue[b]=ue[A]=ue[E]=ue[C]=ue[S]=ue[P]=ue[T]=ue[N]=ue[U]=ue[B]=ue[V]=!0,ue[y]=ue[m]=ue[k]=!1;var le={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ce=parseFloat,fe=parseInt,he="object"==typeof F&&F&&F.Object===Object&&F,pe="object"==typeof self&&self&&self.Object===Object&&self,de=he||pe||Function("return this")(),ge=z&&!z.nodeType&&z,_e=ge&&$&&!$.nodeType&&$,ve=_e&&_e.exports===ge,ye=ve&&he.process,me=function(){try{var t=_e&&_e.require&&_e.require("util").types;return t||ye&&ye.binding&&ye.binding("util")}catch(t){}}(),we=me&&me.isArrayBuffer,be=me&&me.isDate,Ae=me&&me.isMap,Ee=me&&me.isRegExp,Ie=me&&me.isSet,Ce=me&&me.isTypedArray;function Se(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Pe(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var s=t[i];e(r,s,n(s),t)}return r}function Te(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function ke(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Oe(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Le(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}function xe(t,e){return!(null==t||!t.length)&&ze(t,e,0)>-1}function Re(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function je(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function Me(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function De(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function Ne(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function Ue(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Be=Ye("length");function Ve(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function $e(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function ze(t,e,n){return e==e?function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):$e(t,We,n)}function Fe(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function We(t){return t!=t}function qe(t,e){var n=null==t?0:t.length;return n?Ze(t,e)/n:f}function Ye(e){return function(n){return null==n?t:n[e]}}function Ke(e){return function(n){return null==e?t:e[n]}}function Ge(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function Ze(e,n){for(var r,i=-1,o=e.length;++i<o;){var s=n(e[i]);s!==t&&(r=r===t?s:r+s)}return r}function He(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Je(t){return t?t.slice(0,gn(t)+1).replace(ot,""):t}function Qe(t){return function(e){return t(e)}}function Xe(t,e){return je(e,(function(e){return t[e]}))}function tn(t,e){return t.has(e)}function en(t,e){for(var n=-1,r=t.length;++n<r&&ze(e,t[n],0)>-1;);return n}function nn(t,e){for(var n=t.length;n--&&ze(e,t[n],0)>-1;);return n}var rn=Ke({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),on=Ke({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function sn(t){return"\\"+le[t]}function an(t){return re.test(t)}function un(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function ln(t,e){return function(n){return t(e(n))}}function cn(t,e){for(var n=-1,i=t.length,o=0,s=[];++n<i;){var a=t[n];a!==e&&a!==r||(t[n]=r,s[o++]=n)}return s}function fn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function hn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function pn(t){return an(t)?function(t){for(var e=ee.lastIndex=0;ee.test(t);)++e;return e}(t):Be(t)}function dn(t){return an(t)?function(t){return t.match(ee)||[]}(t):function(t){return t.split("")}(t)}function gn(t){for(var e=t.length;e--&&st.test(t.charAt(e)););return e}var _n=Ke({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),vn=function $(z){var F,st=(z=null==z?de:vn.defaults(de.Object(),z,vn.pick(de,oe))).Array,Et=z.Date,It=z.Error,Ct=z.Function,St=z.Math,Pt=z.Object,Tt=z.RegExp,kt=z.String,Ot=z.TypeError,Lt=st.prototype,xt=Ct.prototype,Rt=Pt.prototype,jt=z["__core-js_shared__"],Mt=xt.toString,Dt=Rt.hasOwnProperty,Nt=0,Ut=(F=/[^.]+$/.exec(jt&&jt.keys&&jt.keys.IE_PROTO||""))?"Symbol(src)_1."+F:"",Bt=Rt.toString,Vt=Mt.call(Pt),$t=de._,zt=Tt("^"+Mt.call(Dt).replace(rt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ft=ve?z.Buffer:t,Wt=z.Symbol,qt=z.Uint8Array,Yt=Ft?Ft.allocUnsafe:t,Kt=ln(Pt.getPrototypeOf,Pt),Gt=Pt.create,Zt=Rt.propertyIsEnumerable,Ht=Lt.splice,Jt=Wt?Wt.isConcatSpreadable:t,Qt=Wt?Wt.iterator:t,ee=Wt?Wt.toStringTag:t,re=function(){try{var t=ho(Pt,"defineProperty");return t({},"",{}),t}catch(t){}}(),le=z.clearTimeout!==de.clearTimeout&&z.clearTimeout,he=Et&&Et.now!==de.Date.now&&Et.now,pe=z.setTimeout!==de.setTimeout&&z.setTimeout,ge=St.ceil,_e=St.floor,ye=Pt.getOwnPropertySymbols,me=Ft?Ft.isBuffer:t,Be=z.isFinite,Ke=Lt.join,yn=ln(Pt.keys,Pt),mn=St.max,wn=St.min,bn=Et.now,An=z.parseInt,En=St.random,In=Lt.reverse,Cn=ho(z,"DataView"),Sn=ho(z,"Map"),Pn=ho(z,"Promise"),Tn=ho(z,"Set"),kn=ho(z,"WeakMap"),On=ho(Pt,"create"),Ln=kn&&new kn,xn={},Rn=Bo(Cn),jn=Bo(Sn),Mn=Bo(Pn),Dn=Bo(Tn),Nn=Bo(kn),Un=Wt?Wt.prototype:t,Bn=Un?Un.valueOf:t,Vn=Un?Un.toString:t;function $n(t){if(na(t)&&!qs(t)&&!(t instanceof qn)){if(t instanceof Wn)return t;if(Dt.call(t,"__wrapped__"))return Vo(t)}return new Wn(t)}var zn=function(){function e(){}return function(n){if(!ea(n))return{};if(Gt)return Gt(n);e.prototype=n;var r=new e;return e.prototype=t,r}}();function Fn(){}function Wn(e,n){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=t}function qn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=h,this.__views__=[]}function Yn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Kn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Gn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Zn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Gn;++e<n;)this.add(t[e])}function Hn(t){var e=this.__data__=new Kn(t);this.size=e.size}function Jn(t,e){var n=qs(t),r=!n&&Ws(t),i=!n&&!r&&Zs(t),o=!n&&!r&&!i&&ca(t),s=n||r||i||o,a=s?He(t.length,kt):[],u=a.length;for(var l in t)!e&&!Dt.call(t,l)||s&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||wo(l,u))||a.push(l);return a}function Qn(e){var n=e.length;return n?e[Zr(0,n-1)]:t}function Xn(t,e){return Do(Oi(t),ur(e,0,t.length))}function tr(t){return Do(Oi(t))}function er(e,n,r){(r!==t&&!$s(e[n],r)||r===t&&!(n in e))&&sr(e,n,r)}function nr(e,n,r){var i=e[n];Dt.call(e,n)&&$s(i,r)&&(r!==t||n in e)||sr(e,n,r)}function rr(t,e){for(var n=t.length;n--;)if($s(t[n][0],e))return n;return-1}function ir(t,e,n,r){return pr(t,(function(t,i,o){e(r,t,n(t),o)})),r}function or(t,e){return t&&Li(e,xa(e),t)}function sr(t,e,n){"__proto__"==e&&re?re(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function ar(e,n){for(var r=-1,i=n.length,o=st(i),s=null==e;++r<i;)o[r]=s?t:Pa(e,n[r]);return o}function ur(e,n,r){return e==e&&(r!==t&&(e=e<=r?e:r),n!==t&&(e=e>=n?e:n)),e}function lr(e,n,r,i,o,s){var a,u=1&n,l=2&n,c=4&n;if(r&&(a=o?r(e,i,o,s):r(e)),a!==t)return a;if(!ea(e))return e;var f=qs(e);if(f){if(a=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Dt.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(e),!u)return Oi(e,a)}else{var h=_o(e),p=h==m||h==w;if(Zs(e))return Ii(e,u);if(h==E||h==d||p&&!o){if(a=l||p?{}:yo(e),!u)return l?function(t,e){return Li(t,go(t),e)}(e,function(t,e){return t&&Li(e,Ra(e),t)}(a,e)):function(t,e){return Li(t,po(t),e)}(e,or(a,e))}else{if(!ue[h])return o?e:{};a=function(t,e,n){var r,i=t.constructor;switch(e){case O:return Ci(t);case _:case v:return new i(+t);case L:return function(t,e){var n=e?Ci(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case x:case R:case j:case M:case D:case N:case U:case B:case V:return Si(t,n);case b:return new i;case A:case P:return new i(t);case C:return function(t){var e=new t.constructor(t.source,dt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case S:return new i;case T:return r=t,Bn?Pt(Bn.call(r)):{}}}(e,h,u)}}s||(s=new Hn);var g=s.get(e);if(g)return g;s.set(e,a),aa(e)?e.forEach((function(t){a.add(lr(t,n,r,t,e,s))})):ra(e)&&e.forEach((function(t,i){a.set(i,lr(t,n,r,i,e,s))}));var y=f?t:(c?l?oo:io:l?Ra:xa)(e);return Te(y||e,(function(t,i){y&&(t=e[i=t]),nr(a,i,lr(t,n,r,i,e,s))})),a}function cr(e,n,r){var i=r.length;if(null==e)return!i;for(e=Pt(e);i--;){var o=r[i],s=n[o],a=e[o];if(a===t&&!(o in e)||!s(a))return!1}return!0}function fr(n,r,i){if("function"!=typeof n)throw new Ot(e);return xo((function(){n.apply(t,i)}),r)}function hr(t,e,n,r){var i=-1,o=xe,s=!0,a=t.length,u=[],l=e.length;if(!a)return u;n&&(e=je(e,Qe(n))),r?(o=Re,s=!1):e.length>=200&&(o=tn,s=!1,e=new Zn(e));t:for(;++i<a;){var c=t[i],f=null==n?c:n(c);if(c=r||0!==c?c:0,s&&f==f){for(var h=l;h--;)if(e[h]===f)continue t;u.push(c)}else o(e,f,r)||u.push(c)}return u}$n.templateSettings={escape:J,evaluate:Q,interpolate:X,variable:"",imports:{_:$n}},$n.prototype=Fn.prototype,$n.prototype.constructor=$n,Wn.prototype=zn(Fn.prototype),Wn.prototype.constructor=Wn,qn.prototype=zn(Fn.prototype),qn.prototype.constructor=qn,Yn.prototype.clear=function(){this.__data__=On?On(null):{},this.size=0},Yn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Yn.prototype.get=function(e){var r=this.__data__;if(On){var i=r[e];return i===n?t:i}return Dt.call(r,e)?r[e]:t},Yn.prototype.has=function(e){var n=this.__data__;return On?n[e]!==t:Dt.call(n,e)},Yn.prototype.set=function(e,r){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=On&&r===t?n:r,this},Kn.prototype.clear=function(){this.__data__=[],this.size=0},Kn.prototype.delete=function(t){var e=this.__data__,n=rr(e,t);return!(n<0||(n==e.length-1?e.pop():Ht.call(e,n,1),--this.size,0))},Kn.prototype.get=function(e){var n=this.__data__,r=rr(n,e);return r<0?t:n[r][1]},Kn.prototype.has=function(t){return rr(this.__data__,t)>-1},Kn.prototype.set=function(t,e){var n=this.__data__,r=rr(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Gn.prototype.clear=function(){this.size=0,this.__data__={hash:new Yn,map:new(Sn||Kn),string:new Yn}},Gn.prototype.delete=function(t){var e=co(this,t).delete(t);return this.size-=e?1:0,e},Gn.prototype.get=function(t){return co(this,t).get(t)},Gn.prototype.has=function(t){return co(this,t).has(t)},Gn.prototype.set=function(t,e){var n=co(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Zn.prototype.add=Zn.prototype.push=function(t){return this.__data__.set(t,n),this},Zn.prototype.has=function(t){return this.__data__.has(t)},Hn.prototype.clear=function(){this.__data__=new Kn,this.size=0},Hn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Hn.prototype.get=function(t){return this.__data__.get(t)},Hn.prototype.has=function(t){return this.__data__.has(t)},Hn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Kn){var r=n.__data__;if(!Sn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Gn(r)}return n.set(t,e),this.size=n.size,this};var pr=ji(br),dr=ji(Ar,!0);function gr(t,e){var n=!0;return pr(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function _r(e,n,r){for(var i=-1,o=e.length;++i<o;){var s=e[i],a=n(s);if(null!=a&&(u===t?a==a&&!la(a):r(a,u)))var u=a,l=s}return l}function vr(t,e){var n=[];return pr(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function yr(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=mo),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?yr(a,e-1,n,r,i):Me(i,a):r||(i[i.length]=a)}return i}var mr=Mi(),wr=Mi(!0);function br(t,e){return t&&mr(t,e,xa)}function Ar(t,e){return t&&wr(t,e,xa)}function Er(t,e){return Le(e,(function(e){return Qs(t[e])}))}function Ir(e,n){for(var r=0,i=(n=wi(n,e)).length;null!=e&&r<i;)e=e[Uo(n[r++])];return r&&r==i?e:t}function Cr(t,e,n){var r=e(t);return qs(t)?r:Me(r,n(t))}function Sr(e){return null==e?e===t?"[object Undefined]":"[object Null]":ee&&ee in Pt(e)?function(e){var n=Dt.call(e,ee),r=e[ee];try{e[ee]=t;var i=!0}catch(t){}var o=Bt.call(e);return i&&(n?e[ee]=r:delete e[ee]),o}(e):function(t){return Bt.call(t)}(e)}function Pr(t,e){return t>e}function Tr(t,e){return null!=t&&Dt.call(t,e)}function kr(t,e){return null!=t&&e in Pt(t)}function Or(e,n,r){for(var i=r?Re:xe,o=e[0].length,s=e.length,a=s,u=st(s),l=1/0,c=[];a--;){var f=e[a];a&&n&&(f=je(f,Qe(n))),l=wn(f.length,l),u[a]=!r&&(n||o>=120&&f.length>=120)?new Zn(a&&f):t}f=e[0];var h=-1,p=u[0];t:for(;++h<o&&c.length<l;){var d=f[h],g=n?n(d):d;if(d=r||0!==d?d:0,!(p?tn(p,g):i(c,g,r))){for(a=s;--a;){var _=u[a];if(!(_?tn(_,g):i(e[a],g,r)))continue t}p&&p.push(g),c.push(d)}}return c}function Lr(e,n,r){var i=null==(e=ko(e,n=wi(n,e)))?e:e[Uo(Jo(n))];return null==i?t:Se(i,e,r)}function xr(t){return na(t)&&Sr(t)==d}function Rr(e,n,r,i,o){return e===n||(null==e||null==n||!na(e)&&!na(n)?e!=e&&n!=n:function(e,n,r,i,o,s){var a=qs(e),u=qs(n),l=a?g:_o(e),c=u?g:_o(n),f=(l=l==d?E:l)==E,h=(c=c==d?E:c)==E,p=l==c;if(p&&Zs(e)){if(!Zs(n))return!1;a=!0,f=!1}if(p&&!f)return s||(s=new Hn),a||ca(e)?no(e,n,r,i,o,s):function(t,e,n,r,i,o,s){switch(n){case L:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case O:return!(t.byteLength!=e.byteLength||!o(new qt(t),new qt(e)));case _:case v:case A:return $s(+t,+e);case y:return t.name==e.name&&t.message==e.message;case C:case P:return t==e+"";case b:var a=un;case S:var u=1&r;if(a||(a=fn),t.size!=e.size&&!u)return!1;var l=s.get(t);if(l)return l==e;r|=2,s.set(t,e);var c=no(a(t),a(e),r,i,o,s);return s.delete(t),c;case T:if(Bn)return Bn.call(t)==Bn.call(e)}return!1}(e,n,l,r,i,o,s);if(!(1&r)){var m=f&&Dt.call(e,"__wrapped__"),w=h&&Dt.call(n,"__wrapped__");if(m||w){var I=m?e.value():e,k=w?n.value():n;return s||(s=new Hn),o(I,k,r,i,s)}}return!!p&&(s||(s=new Hn),function(e,n,r,i,o,s){var a=1&r,u=io(e),l=u.length,c=io(n),f=c.length;if(l!=f&&!a)return!1;for(var h=l;h--;){var p=u[h];if(!(a?p in n:Dt.call(n,p)))return!1}var d=s.get(e),g=s.get(n);if(d&&g)return d==n&&g==e;var _=!0;s.set(e,n),s.set(n,e);for(var v=a;++h<l;){var y=e[p=u[h]],m=n[p];if(i)var w=a?i(m,y,p,n,e,s):i(y,m,p,e,n,s);if(!(w===t?y===m||o(y,m,r,i,s):w)){_=!1;break}v||(v="constructor"==p)}if(_&&!v){var b=e.constructor,A=n.constructor;b==A||!("constructor"in e)||!("constructor"in n)||"function"==typeof b&&b instanceof b&&"function"==typeof A&&A instanceof A||(_=!1)}return s.delete(e),s.delete(n),_}(e,n,r,i,o,s))}(e,n,r,i,Rr,o))}function jr(e,n,r,i){var o=r.length,s=o,a=!i;if(null==e)return!s;for(e=Pt(e);o--;){var u=r[o];if(a&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<s;){var l=(u=r[o])[0],c=e[l],f=u[1];if(a&&u[2]){if(c===t&&!(l in e))return!1}else{var h=new Hn;if(i)var p=i(c,f,l,e,n,h);if(!(p===t?Rr(f,c,3,i,h):p))return!1}}return!0}function Mr(t){return!(!ea(t)||(e=t,Ut&&Ut in e))&&(Qs(t)?zt:vt).test(Bo(t));var e}function Dr(t){return"function"==typeof t?t:null==t?iu:"object"==typeof t?qs(t)?zr(t[0],t[1]):$r(t):pu(t)}function Nr(t){if(!Co(t))return yn(t);var e=[];for(var n in Pt(t))Dt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Ur(t){if(!ea(t))return function(t){var e=[];if(null!=t)for(var n in Pt(t))e.push(n);return e}(t);var e=Co(t),n=[];for(var r in t)("constructor"!=r||!e&&Dt.call(t,r))&&n.push(r);return n}function Br(t,e){return t<e}function Vr(t,e){var n=-1,r=Ks(t)?st(t.length):[];return pr(t,(function(t,i,o){r[++n]=e(t,i,o)})),r}function $r(t){var e=fo(t);return 1==e.length&&e[0][2]?Po(e[0][0],e[0][1]):function(n){return n===t||jr(n,t,e)}}function zr(e,n){return Ao(e)&&So(n)?Po(Uo(e),n):function(r){var i=Pa(r,e);return i===t&&i===n?Ta(r,e):Rr(n,i,3)}}function Fr(e,n,r,i,o){e!==n&&mr(n,(function(s,a){if(o||(o=new Hn),ea(s))!function(e,n,r,i,o,s,a){var u=Oo(e,r),l=Oo(n,r),c=a.get(l);if(c)er(e,r,c);else{var f=s?s(u,l,r+"",e,n,a):t,h=f===t;if(h){var p=qs(l),d=!p&&Zs(l),g=!p&&!d&&ca(l);f=l,p||d||g?qs(u)?f=u:Gs(u)?f=Oi(u):d?(h=!1,f=Ii(l,!0)):g?(h=!1,f=Si(l,!0)):f=[]:oa(l)||Ws(l)?(f=u,Ws(u)?f=ya(u):ea(u)&&!Qs(u)||(f=yo(l))):h=!1}h&&(a.set(l,f),o(f,l,i,s,a),a.delete(l)),er(e,r,f)}}(e,n,a,r,Fr,i,o);else{var u=i?i(Oo(e,a),s,a+"",e,n,o):t;u===t&&(u=s),er(e,a,u)}}),Ra)}function Wr(e,n){var r=e.length;if(r)return wo(n+=n<0?r:0,r)?e[n]:t}function qr(t,e,n){e=e.length?je(e,(function(t){return qs(t)?function(e){return Ir(e,1===t.length?t[0]:t)}:t})):[iu];var r=-1;e=je(e,Qe(lo()));var i=Vr(t,(function(t,n,i){var o=je(e,(function(e){return e(t)}));return{criteria:o,index:++r,value:t}}));return function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(i,(function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var u=Pi(i[r],o[r]);if(u)return r>=a?u:u*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}))}function Yr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var s=e[r],a=Ir(t,s);n(a,s)&&ti(o,wi(s,t),a)}return o}function Kr(t,e,n,r){var i=r?Fe:ze,o=-1,s=e.length,a=t;for(t===e&&(e=Oi(e)),n&&(a=je(t,Qe(n)));++o<s;)for(var u=0,l=e[o],c=n?n(l):l;(u=i(a,c,u,r))>-1;)a!==t&&Ht.call(a,u,1),Ht.call(t,u,1);return t}function Gr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;wo(i)?Ht.call(t,i,1):hi(t,i)}}return t}function Zr(t,e){return t+_e(En()*(e-t+1))}function Hr(t,e){var n="";if(!t||e<1||e>c)return n;do{e%2&&(n+=t),(e=_e(e/2))&&(t+=t)}while(e);return n}function Jr(t,e){return Ro(To(t,e,iu),t+"")}function Qr(t){return Qn($a(t))}function Xr(t,e){var n=$a(t);return Do(n,ur(e,0,n.length))}function ti(e,n,r,i){if(!ea(e))return e;for(var o=-1,s=(n=wi(n,e)).length,a=s-1,u=e;null!=u&&++o<s;){var l=Uo(n[o]),c=r;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(o!=a){var f=u[l];(c=i?i(f,l,u):t)===t&&(c=ea(f)?f:wo(n[o+1])?[]:{})}nr(u,l,c),u=u[l]}return e}var ei=Ln?function(t,e){return Ln.set(t,e),t}:iu,ni=re?function(t,e){return re(t,"toString",{configurable:!0,enumerable:!1,value:eu(e),writable:!0})}:iu;function ri(t){return Do($a(t))}function ii(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=st(i);++r<i;)o[r]=t[r+e];return o}function oi(t,e){var n;return pr(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function si(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,s=t[o];null!==s&&!la(s)&&(n?s<=e:s<e)?r=o+1:i=o}return i}return ai(t,e,iu,n)}function ai(e,n,r,i){var o=0,s=null==e?0:e.length;if(0===s)return 0;for(var a=(n=r(n))!=n,u=null===n,l=la(n),c=n===t;o<s;){var f=_e((o+s)/2),h=r(e[f]),p=h!==t,d=null===h,g=h==h,_=la(h);if(a)var v=i||g;else v=c?g&&(i||p):u?g&&p&&(i||!d):l?g&&p&&!d&&(i||!_):!d&&!_&&(i?h<=n:h<n);v?o=f+1:s=f}return wn(s,4294967294)}function ui(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n],a=e?e(s):s;if(!n||!$s(a,u)){var u=a;o[i++]=0===s?0:s}}return o}function li(t){return"number"==typeof t?t:la(t)?f:+t}function ci(t){if("string"==typeof t)return t;if(qs(t))return je(t,ci)+"";if(la(t))return Vn?Vn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function fi(t,e,n){var r=-1,i=xe,o=t.length,s=!0,a=[],u=a;if(n)s=!1,i=Re;else if(o>=200){var l=e?null:Hi(t);if(l)return fn(l);s=!1,i=tn,u=new Zn}else u=e?[]:a;t:for(;++r<o;){var c=t[r],f=e?e(c):c;if(c=n||0!==c?c:0,s&&f==f){for(var h=u.length;h--;)if(u[h]===f)continue t;e&&u.push(f),a.push(c)}else i(u,f,n)||(u!==a&&u.push(f),a.push(c))}return a}function hi(t,e){return null==(t=ko(t,e=wi(e,t)))||delete t[Uo(Jo(e))]}function pi(t,e,n,r){return ti(t,e,n(Ir(t,e)),r)}function di(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?ii(t,r?0:o,r?o+1:i):ii(t,r?o+1:0,r?i:o)}function gi(t,e){var n=t;return n instanceof qn&&(n=n.value()),De(e,(function(t,e){return e.func.apply(e.thisArg,Me([t],e.args))}),n)}function _i(t,e,n){var r=t.length;if(r<2)return r?fi(t[0]):[];for(var i=-1,o=st(r);++i<r;)for(var s=t[i],a=-1;++a<r;)a!=i&&(o[i]=hr(o[i]||s,t[a],e,n));return fi(yr(o,1),e,n)}function vi(e,n,r){for(var i=-1,o=e.length,s=n.length,a={};++i<o;){var u=i<s?n[i]:t;r(a,e[i],u)}return a}function yi(t){return Gs(t)?t:[]}function mi(t){return"function"==typeof t?t:iu}function wi(t,e){return qs(t)?t:Ao(t,e)?[t]:No(ma(t))}var bi=Jr;function Ai(e,n,r){var i=e.length;return r=r===t?i:r,!n&&r>=i?e:ii(e,n,r)}var Ei=le||function(t){return de.clearTimeout(t)};function Ii(t,e){if(e)return t.slice();var n=t.length,r=Yt?Yt(n):new t.constructor(n);return t.copy(r),r}function Ci(t){var e=new t.constructor(t.byteLength);return new qt(e).set(new qt(t)),e}function Si(t,e){var n=e?Ci(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Pi(e,n){if(e!==n){var r=e!==t,i=null===e,o=e==e,s=la(e),a=n!==t,u=null===n,l=n==n,c=la(n);if(!u&&!c&&!s&&e>n||s&&a&&l&&!u&&!c||i&&a&&l||!r&&l||!o)return 1;if(!i&&!s&&!c&&e<n||c&&r&&o&&!i&&!s||u&&r&&o||!a&&o||!l)return-1}return 0}function Ti(t,e,n,r){for(var i=-1,o=t.length,s=n.length,a=-1,u=e.length,l=mn(o-s,0),c=st(u+l),f=!r;++a<u;)c[a]=e[a];for(;++i<s;)(f||i<o)&&(c[n[i]]=t[i]);for(;l--;)c[a++]=t[i++];return c}function ki(t,e,n,r){for(var i=-1,o=t.length,s=-1,a=n.length,u=-1,l=e.length,c=mn(o-a,0),f=st(c+l),h=!r;++i<c;)f[i]=t[i];for(var p=i;++u<l;)f[p+u]=e[u];for(;++s<a;)(h||i<o)&&(f[p+n[s]]=t[i++]);return f}function Oi(t,e){var n=-1,r=t.length;for(e||(e=st(r));++n<r;)e[n]=t[n];return e}function Li(e,n,r,i){var o=!r;r||(r={});for(var s=-1,a=n.length;++s<a;){var u=n[s],l=i?i(r[u],e[u],u,r,e):t;l===t&&(l=e[u]),o?sr(r,u,l):nr(r,u,l)}return r}function xi(t,e){return function(n,r){var i=qs(n)?Pe:ir,o=e?e():{};return i(n,t,lo(r,2),o)}}function Ri(e){return Jr((function(n,r){var i=-1,o=r.length,s=o>1?r[o-1]:t,a=o>2?r[2]:t;for(s=e.length>3&&"function"==typeof s?(o--,s):t,a&&bo(r[0],r[1],a)&&(s=o<3?t:s,o=1),n=Pt(n);++i<o;){var u=r[i];u&&e(n,u,i,s)}return n}))}function ji(t,e){return function(n,r){if(null==n)return n;if(!Ks(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Pt(n);(e?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function Mi(t){return function(e,n,r){for(var i=-1,o=Pt(e),s=r(e),a=s.length;a--;){var u=s[t?a:++i];if(!1===n(o[u],u,o))break}return e}}function Di(e){return function(n){var r=an(n=ma(n))?dn(n):t,i=r?r[0]:n.charAt(0),o=r?Ai(r,1).join(""):n.slice(1);return i[e]()+o}}function Ni(t){return function(e){return De(Qa(Wa(e).replace(Xt,"")),t,"")}}function Ui(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=zn(t.prototype),r=t.apply(n,e);return ea(r)?r:n}}function Bi(e){return function(n,r,i){var o=Pt(n);if(!Ks(n)){var s=lo(r,3);n=xa(n),r=function(t){return s(o[t],t,o)}}var a=e(n,r,i);return a>-1?o[s?n[a]:a]:t}}function Vi(n){return ro((function(r){var i=r.length,o=i,s=Wn.prototype.thru;for(n&&r.reverse();o--;){var a=r[o];if("function"!=typeof a)throw new Ot(e);if(s&&!u&&"wrapper"==ao(a))var u=new Wn([],!0)}for(o=u?o:i;++o<i;){var l=ao(a=r[o]),c="wrapper"==l?so(a):t;u=c&&Eo(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?u[ao(c[0])].apply(u,c[3]):1==a.length&&Eo(a)?u[l]():u.thru(a)}return function(){var t=arguments,e=t[0];if(u&&1==t.length&&qs(e))return u.plant(e).value();for(var n=0,o=i?r[n].apply(this,t):e;++n<i;)o=r[n].call(this,o);return o}}))}function $i(e,n,r,i,o,s,u,l,c,f){var h=n&a,p=1&n,d=2&n,g=24&n,_=512&n,v=d?t:Ui(e);return function a(){for(var y=arguments.length,m=st(y),w=y;w--;)m[w]=arguments[w];if(g)var b=uo(a),A=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}(m,b);if(i&&(m=Ti(m,i,o,g)),s&&(m=ki(m,s,u,g)),y-=A,g&&y<f){var E=cn(m,b);return Gi(e,n,$i,a.placeholder,r,m,E,l,c,f-y)}var I=p?r:this,C=d?I[e]:e;return y=m.length,l?m=function(e,n){for(var r=e.length,i=wn(n.length,r),o=Oi(e);i--;){var s=n[i];e[i]=wo(s,r)?o[s]:t}return e}(m,l):_&&y>1&&m.reverse(),h&&c<y&&(m.length=c),this&&this!==de&&this instanceof a&&(C=v||Ui(C)),C.apply(I,m)}}function zi(t,e){return function(n,r){return function(t,e,n,r){return br(t,(function(t,i,o){e(r,n(t),i,o)})),r}(n,t,e(r),{})}}function Fi(e,n){return function(r,i){var o;if(r===t&&i===t)return n;if(r!==t&&(o=r),i!==t){if(o===t)return i;"string"==typeof r||"string"==typeof i?(r=ci(r),i=ci(i)):(r=li(r),i=li(i)),o=e(r,i)}return o}}function Wi(t){return ro((function(e){return e=je(e,Qe(lo())),Jr((function(n){var r=this;return t(e,(function(t){return Se(t,r,n)}))}))}))}function qi(e,n){var r=(n=n===t?" ":ci(n)).length;if(r<2)return r?Hr(n,e):n;var i=Hr(n,ge(e/pn(n)));return an(n)?Ai(dn(i),0,e).join(""):i.slice(0,e)}function Yi(e){return function(n,r,i){return i&&"number"!=typeof i&&bo(n,r,i)&&(r=i=t),n=da(n),r===t?(r=n,n=0):r=da(r),function(t,e,n,r){for(var i=-1,o=mn(ge((e-t)/(n||1)),0),s=st(o);o--;)s[r?o:++i]=t,t+=n;return s}(n,r,i=i===t?n<r?1:-1:da(i),e)}}function Ki(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=va(e),n=va(n)),t(e,n)}}function Gi(e,n,r,i,a,u,l,c,f,h){var p=8&n;n|=p?o:s,4&(n&=~(p?s:o))||(n&=-4);var d=[e,n,a,p?u:t,p?l:t,p?t:u,p?t:l,c,f,h],g=r.apply(t,d);return Eo(e)&&Lo(g,d),g.placeholder=i,jo(g,e,n)}function Zi(t){var e=St[t];return function(t,n){if(t=va(t),(n=null==n?0:wn(ga(n),292))&&Be(t)){var r=(ma(t)+"e").split("e");return+((r=(ma(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Hi=Tn&&1/fn(new Tn([,-0]))[1]==l?function(t){return new Tn(t)}:lu;function Ji(t){return function(e){var n=_o(e);return n==b?un(e):n==S?hn(e):function(t,e){return je(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Qi(n,l,c,f,h,p,d,g){var _=2&l;if(!_&&"function"!=typeof n)throw new Ot(e);var v=f?f.length:0;if(v||(l&=-97,f=h=t),d=d===t?d:mn(ga(d),0),g=g===t?g:ga(g),v-=h?h.length:0,l&s){var y=f,m=h;f=h=t}var w=_?t:so(n),b=[n,l,c,f,h,y,m,p,d,g];if(w&&function(t,e){var n=t[1],i=e[1],o=n|i,s=o<131,l=i==a&&8==n||i==a&&n==u&&t[7].length<=e[8]||384==i&&e[7].length<=e[8]&&8==n;if(!s&&!l)return t;1&i&&(t[2]=e[2],o|=1&n?0:4);var c=e[3];if(c){var f=t[3];t[3]=f?Ti(f,c,e[4]):c,t[4]=f?cn(t[3],r):e[4]}(c=e[5])&&(f=t[5],t[5]=f?ki(f,c,e[6]):c,t[6]=f?cn(t[5],r):e[6]),(c=e[7])&&(t[7]=c),i&a&&(t[8]=null==t[8]?e[8]:wn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=o}(b,w),n=b[0],l=b[1],c=b[2],f=b[3],h=b[4],!(g=b[9]=b[9]===t?_?0:n.length:mn(b[9]-v,0))&&24&l&&(l&=-25),l&&1!=l)A=8==l||l==i?function(e,n,r){var i=Ui(e);return function o(){for(var s=arguments.length,a=st(s),u=s,l=uo(o);u--;)a[u]=arguments[u];var c=s<3&&a[0]!==l&&a[s-1]!==l?[]:cn(a,l);return(s-=c.length)<r?Gi(e,n,$i,o.placeholder,t,a,c,t,t,r-s):Se(this&&this!==de&&this instanceof o?i:e,this,a)}}(n,l,g):l!=o&&33!=l||h.length?$i.apply(t,b):function(t,e,n,r){var i=1&e,o=Ui(t);return function e(){for(var s=-1,a=arguments.length,u=-1,l=r.length,c=st(l+a),f=this&&this!==de&&this instanceof e?o:t;++u<l;)c[u]=r[u];for(;a--;)c[u++]=arguments[++s];return Se(f,i?n:this,c)}}(n,l,c,f);else var A=function(t,e,n){var r=1&e,i=Ui(t);return function e(){return(this&&this!==de&&this instanceof e?i:t).apply(r?n:this,arguments)}}(n,l,c);return jo((w?ei:Lo)(A,b),n,l)}function Xi(e,n,r,i){return e===t||$s(e,Rt[r])&&!Dt.call(i,r)?n:e}function to(e,n,r,i,o,s){return ea(e)&&ea(n)&&(s.set(n,e),Fr(e,n,t,to,s),s.delete(n)),e}function eo(e){return oa(e)?t:e}function no(e,n,r,i,o,s){var a=1&r,u=e.length,l=n.length;if(u!=l&&!(a&&l>u))return!1;var c=s.get(e),f=s.get(n);if(c&&f)return c==n&&f==e;var h=-1,p=!0,d=2&r?new Zn:t;for(s.set(e,n),s.set(n,e);++h<u;){var g=e[h],_=n[h];if(i)var v=a?i(_,g,h,n,e,s):i(g,_,h,e,n,s);if(v!==t){if(v)continue;p=!1;break}if(d){if(!Ue(n,(function(t,e){if(!tn(d,e)&&(g===t||o(g,t,r,i,s)))return d.push(e)}))){p=!1;break}}else if(g!==_&&!o(g,_,r,i,s)){p=!1;break}}return s.delete(e),s.delete(n),p}function ro(e){return Ro(To(e,t,Yo),e+"")}function io(t){return Cr(t,xa,po)}function oo(t){return Cr(t,Ra,go)}var so=Ln?function(t){return Ln.get(t)}:lu;function ao(t){for(var e=t.name+"",n=xn[e],r=Dt.call(xn,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function uo(t){return(Dt.call($n,"placeholder")?$n:t).placeholder}function lo(){var t=$n.iteratee||ou;return t=t===ou?Dr:t,arguments.length?t(arguments[0],arguments[1]):t}function co(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function fo(t){for(var e=xa(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,So(i)]}return e}function ho(e,n){var r=function(e,n){return null==e?t:e[n]}(e,n);return Mr(r)?r:t}var po=ye?function(t){return null==t?[]:(t=Pt(t),Le(ye(t),(function(e){return Zt.call(t,e)})))}:_u,go=ye?function(t){for(var e=[];t;)Me(e,po(t)),t=Kt(t);return e}:_u,_o=Sr;function vo(t,e,n){for(var r=-1,i=(e=wi(e,t)).length,o=!1;++r<i;){var s=Uo(e[r]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&ta(i)&&wo(s,i)&&(qs(t)||Ws(t))}function yo(t){return"function"!=typeof t.constructor||Co(t)?{}:zn(Kt(t))}function mo(t){return qs(t)||Ws(t)||!!(Jt&&t&&t[Jt])}function wo(t,e){var n=typeof t;return!!(e=null==e?c:e)&&("number"==n||"symbol"!=n&&mt.test(t))&&t>-1&&t%1==0&&t<e}function bo(t,e,n){if(!ea(n))return!1;var r=typeof e;return!!("number"==r?Ks(n)&&wo(e,n.length):"string"==r&&e in n)&&$s(n[e],t)}function Ao(t,e){if(qs(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!la(t))||et.test(t)||!tt.test(t)||null!=e&&t in Pt(e)}function Eo(t){var e=ao(t),n=$n[e];if("function"!=typeof n||!(e in qn.prototype))return!1;if(t===n)return!0;var r=so(n);return!!r&&t===r[0]}(Cn&&_o(new Cn(new ArrayBuffer(1)))!=L||Sn&&_o(new Sn)!=b||Pn&&_o(Pn.resolve())!=I||Tn&&_o(new Tn)!=S||kn&&_o(new kn)!=k)&&(_o=function(e){var n=Sr(e),r=n==E?e.constructor:t,i=r?Bo(r):"";if(i)switch(i){case Rn:return L;case jn:return b;case Mn:return I;case Dn:return S;case Nn:return k}return n});var Io=jt?Qs:vu;function Co(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Rt)}function So(t){return t==t&&!ea(t)}function Po(e,n){return function(r){return null!=r&&r[e]===n&&(n!==t||e in Pt(r))}}function To(e,n,r){return n=mn(n===t?e.length-1:n,0),function(){for(var t=arguments,i=-1,o=mn(t.length-n,0),s=st(o);++i<o;)s[i]=t[n+i];i=-1;for(var a=st(n+1);++i<n;)a[i]=t[i];return a[n]=r(s),Se(e,this,a)}}function ko(t,e){return e.length<2?t:Ir(t,ii(e,0,-1))}function Oo(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Lo=Mo(ei),xo=pe||function(t,e){return de.setTimeout(t,e)},Ro=Mo(ni);function jo(t,e,n){var r=e+"";return Ro(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(at,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return Te(p,(function(n){var r="_."+n[0];e&n[1]&&!xe(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(ut);return e?e[1].split(lt):[]}(r),n)))}function Mo(e){var n=0,r=0;return function(){var i=bn(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(t,arguments)}}function Do(e,n){var r=-1,i=e.length,o=i-1;for(n=n===t?i:n;++r<n;){var s=Zr(r,o),a=e[s];e[s]=e[r],e[r]=a}return e.length=n,e}var No=function(t){var e=Ms(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(nt,(function(t,n,r,i){e.push(r?i.replace(ht,"$1"):n||t)})),e}));function Uo(t){if("string"==typeof t||la(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Bo(t){if(null!=t){try{return Mt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Vo(t){if(t instanceof qn)return t.clone();var e=new Wn(t.__wrapped__,t.__chain__);return e.__actions__=Oi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var $o=Jr((function(t,e){return Gs(t)?hr(t,yr(e,1,Gs,!0)):[]})),zo=Jr((function(e,n){var r=Jo(n);return Gs(r)&&(r=t),Gs(e)?hr(e,yr(n,1,Gs,!0),lo(r,2)):[]})),Fo=Jr((function(e,n){var r=Jo(n);return Gs(r)&&(r=t),Gs(e)?hr(e,yr(n,1,Gs,!0),t,r):[]}));function Wo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ga(n);return i<0&&(i=mn(r+i,0)),$e(t,lo(e,3),i)}function qo(e,n,r){var i=null==e?0:e.length;if(!i)return-1;var o=i-1;return r!==t&&(o=ga(r),o=r<0?mn(i+o,0):wn(o,i-1)),$e(e,lo(n,3),o,!0)}function Yo(t){return null!=t&&t.length?yr(t,1):[]}function Ko(e){return e&&e.length?e[0]:t}var Go=Jr((function(t){var e=je(t,yi);return e.length&&e[0]===t[0]?Or(e):[]})),Zo=Jr((function(e){var n=Jo(e),r=je(e,yi);return n===Jo(r)?n=t:r.pop(),r.length&&r[0]===e[0]?Or(r,lo(n,2)):[]})),Ho=Jr((function(e){var n=Jo(e),r=je(e,yi);return(n="function"==typeof n?n:t)&&r.pop(),r.length&&r[0]===e[0]?Or(r,t,n):[]}));function Jo(e){var n=null==e?0:e.length;return n?e[n-1]:t}var Qo=Jr(Xo);function Xo(t,e){return t&&t.length&&e&&e.length?Kr(t,e):t}var ts=ro((function(t,e){var n=null==t?0:t.length,r=ar(t,e);return Gr(t,je(e,(function(t){return wo(t,n)?+t:t})).sort(Pi)),r}));function es(t){return null==t?t:In.call(t)}var ns=Jr((function(t){return fi(yr(t,1,Gs,!0))})),rs=Jr((function(e){var n=Jo(e);return Gs(n)&&(n=t),fi(yr(e,1,Gs,!0),lo(n,2))})),is=Jr((function(e){var n=Jo(e);return n="function"==typeof n?n:t,fi(yr(e,1,Gs,!0),t,n)}));function os(t){if(!t||!t.length)return[];var e=0;return t=Le(t,(function(t){if(Gs(t))return e=mn(t.length,e),!0})),He(e,(function(e){return je(t,Ye(e))}))}function ss(e,n){if(!e||!e.length)return[];var r=os(e);return null==n?r:je(r,(function(e){return Se(n,t,e)}))}var as=Jr((function(t,e){return Gs(t)?hr(t,e):[]})),us=Jr((function(t){return _i(Le(t,Gs))})),ls=Jr((function(e){var n=Jo(e);return Gs(n)&&(n=t),_i(Le(e,Gs),lo(n,2))})),cs=Jr((function(e){var n=Jo(e);return n="function"==typeof n?n:t,_i(Le(e,Gs),t,n)})),fs=Jr(os),hs=Jr((function(e){var n=e.length,r=n>1?e[n-1]:t;return r="function"==typeof r?(e.pop(),r):t,ss(e,r)}));function ps(t){var e=$n(t);return e.__chain__=!0,e}function ds(t,e){return e(t)}var gs=ro((function(e){var n=e.length,r=n?e[0]:0,i=this.__wrapped__,o=function(t){return ar(t,e)};return!(n>1||this.__actions__.length)&&i instanceof qn&&wo(r)?((i=i.slice(r,+r+(n?1:0))).__actions__.push({func:ds,args:[o],thisArg:t}),new Wn(i,this.__chain__).thru((function(e){return n&&!e.length&&e.push(t),e}))):this.thru(o)})),_s=xi((function(t,e,n){Dt.call(t,n)?++t[n]:sr(t,n,1)})),vs=Bi(Wo),ys=Bi(qo);function ms(t,e){return(qs(t)?Te:pr)(t,lo(e,3))}function ws(t,e){return(qs(t)?ke:dr)(t,lo(e,3))}var bs=xi((function(t,e,n){Dt.call(t,n)?t[n].push(e):sr(t,n,[e])})),As=Jr((function(t,e,n){var r=-1,i="function"==typeof e,o=Ks(t)?st(t.length):[];return pr(t,(function(t){o[++r]=i?Se(e,t,n):Lr(t,e,n)})),o})),Es=xi((function(t,e,n){sr(t,n,e)}));function Is(t,e){return(qs(t)?je:Vr)(t,lo(e,3))}var Cs=xi((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]})),Ss=Jr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&bo(t,e[0],e[1])?e=[]:n>2&&bo(e[0],e[1],e[2])&&(e=[e[0]]),qr(t,yr(e,1),[])})),Ps=he||function(){return de.Date.now()};function Ts(e,n,r){return n=r?t:n,n=e&&null==n?e.length:n,Qi(e,a,t,t,t,t,n)}function ks(n,r){var i;if("function"!=typeof r)throw new Ot(e);return n=ga(n),function(){return--n>0&&(i=r.apply(this,arguments)),n<=1&&(r=t),i}}var Os=Jr((function(t,e,n){var r=1;if(n.length){var i=cn(n,uo(Os));r|=o}return Qi(t,r,e,n,i)})),Ls=Jr((function(t,e,n){var r=3;if(n.length){var i=cn(n,uo(Ls));r|=o}return Qi(e,r,t,n,i)}));function xs(n,r,i){var o,s,a,u,l,c,f=0,h=!1,p=!1,d=!0;if("function"!=typeof n)throw new Ot(e);function g(e){var r=o,i=s;return o=s=t,f=e,u=n.apply(i,r)}function _(e){var n=e-c;return c===t||n>=r||n<0||p&&e-f>=a}function v(){var t=Ps();if(_(t))return y(t);l=xo(v,function(t){var e=r-(t-c);return p?wn(e,a-(t-f)):e}(t))}function y(e){return l=t,d&&o?g(e):(o=s=t,u)}function m(){var e=Ps(),n=_(e);if(o=arguments,s=this,c=e,n){if(l===t)return function(t){return f=t,l=xo(v,r),h?g(t):u}(c);if(p)return Ei(l),l=xo(v,r),g(c)}return l===t&&(l=xo(v,r)),u}return r=va(r)||0,ea(i)&&(h=!!i.leading,a=(p="maxWait"in i)?mn(va(i.maxWait)||0,r):a,d="trailing"in i?!!i.trailing:d),m.cancel=function(){l!==t&&Ei(l),f=0,o=c=s=l=t},m.flush=function(){return l===t?u:y(Ps())},m}var Rs=Jr((function(t,e){return fr(t,1,e)})),js=Jr((function(t,e,n){return fr(t,va(e)||0,n)}));function Ms(t,n){if("function"!=typeof t||null!=n&&"function"!=typeof n)throw new Ot(e);var r=function(){var e=arguments,i=n?n.apply(this,e):e[0],o=r.cache;if(o.has(i))return o.get(i);var s=t.apply(this,e);return r.cache=o.set(i,s)||o,s};return r.cache=new(Ms.Cache||Gn),r}function Ds(t){if("function"!=typeof t)throw new Ot(e);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Ms.Cache=Gn;var Ns=bi((function(t,e){var n=(e=1==e.length&&qs(e[0])?je(e[0],Qe(lo())):je(yr(e,1),Qe(lo()))).length;return Jr((function(r){for(var i=-1,o=wn(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return Se(t,this,r)}))})),Us=Jr((function(e,n){var r=cn(n,uo(Us));return Qi(e,o,t,n,r)})),Bs=Jr((function(e,n){var r=cn(n,uo(Bs));return Qi(e,s,t,n,r)})),Vs=ro((function(e,n){return Qi(e,u,t,t,t,n)}));function $s(t,e){return t===e||t!=t&&e!=e}var zs=Ki(Pr),Fs=Ki((function(t,e){return t>=e})),Ws=xr(function(){return arguments}())?xr:function(t){return na(t)&&Dt.call(t,"callee")&&!Zt.call(t,"callee")},qs=st.isArray,Ys=we?Qe(we):function(t){return na(t)&&Sr(t)==O};function Ks(t){return null!=t&&ta(t.length)&&!Qs(t)}function Gs(t){return na(t)&&Ks(t)}var Zs=me||vu,Hs=be?Qe(be):function(t){return na(t)&&Sr(t)==v};function Js(t){if(!na(t))return!1;var e=Sr(t);return e==y||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!oa(t)}function Qs(t){if(!ea(t))return!1;var e=Sr(t);return e==m||e==w||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Xs(t){return"number"==typeof t&&t==ga(t)}function ta(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=c}function ea(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function na(t){return null!=t&&"object"==typeof t}var ra=Ae?Qe(Ae):function(t){return na(t)&&_o(t)==b};function ia(t){return"number"==typeof t||na(t)&&Sr(t)==A}function oa(t){if(!na(t)||Sr(t)!=E)return!1;var e=Kt(t);if(null===e)return!0;var n=Dt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Mt.call(n)==Vt}var sa=Ee?Qe(Ee):function(t){return na(t)&&Sr(t)==C},aa=Ie?Qe(Ie):function(t){return na(t)&&_o(t)==S};function ua(t){return"string"==typeof t||!qs(t)&&na(t)&&Sr(t)==P}function la(t){return"symbol"==typeof t||na(t)&&Sr(t)==T}var ca=Ce?Qe(Ce):function(t){return na(t)&&ta(t.length)&&!!ae[Sr(t)]},fa=Ki(Br),ha=Ki((function(t,e){return t<=e}));function pa(t){if(!t)return[];if(Ks(t))return ua(t)?dn(t):Oi(t);if(Qt&&t[Qt])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Qt]());var e=_o(t);return(e==b?un:e==S?fn:$a)(t)}function da(t){return t?(t=va(t))===l||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function ga(t){var e=da(t),n=e%1;return e==e?n?e-n:e:0}function _a(t){return t?ur(ga(t),0,h):0}function va(t){if("number"==typeof t)return t;if(la(t))return f;if(ea(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ea(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Je(t);var n=_t.test(t);return n||yt.test(t)?fe(t.slice(2),n?2:8):gt.test(t)?f:+t}function ya(t){return Li(t,Ra(t))}function ma(t){return null==t?"":ci(t)}var wa=Ri((function(t,e){if(Co(e)||Ks(e))Li(e,xa(e),t);else for(var n in e)Dt.call(e,n)&&nr(t,n,e[n])})),ba=Ri((function(t,e){Li(e,Ra(e),t)})),Aa=Ri((function(t,e,n,r){Li(e,Ra(e),t,r)})),Ea=Ri((function(t,e,n,r){Li(e,xa(e),t,r)})),Ia=ro(ar),Ca=Jr((function(e,n){e=Pt(e);var r=-1,i=n.length,o=i>2?n[2]:t;for(o&&bo(n[0],n[1],o)&&(i=1);++r<i;)for(var s=n[r],a=Ra(s),u=-1,l=a.length;++u<l;){var c=a[u],f=e[c];(f===t||$s(f,Rt[c])&&!Dt.call(e,c))&&(e[c]=s[c])}return e})),Sa=Jr((function(e){return e.push(t,to),Se(Ma,t,e)}));function Pa(e,n,r){var i=null==e?t:Ir(e,n);return i===t?r:i}function Ta(t,e){return null!=t&&vo(t,e,kr)}var ka=zi((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Bt.call(e)),t[e]=n}),eu(iu)),Oa=zi((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Bt.call(e)),Dt.call(t,e)?t[e].push(n):t[e]=[n]}),lo),La=Jr(Lr);function xa(t){return Ks(t)?Jn(t):Nr(t)}function Ra(t){return Ks(t)?Jn(t,!0):Ur(t)}var ja=Ri((function(t,e,n){Fr(t,e,n)})),Ma=Ri((function(t,e,n,r){Fr(t,e,n,r)})),Da=ro((function(t,e){var n={};if(null==t)return n;var r=!1;e=je(e,(function(e){return e=wi(e,t),r||(r=e.length>1),e})),Li(t,oo(t),n),r&&(n=lr(n,7,eo));for(var i=e.length;i--;)hi(n,e[i]);return n})),Na=ro((function(t,e){return null==t?{}:function(t,e){return Yr(t,e,(function(e,n){return Ta(t,n)}))}(t,e)}));function Ua(t,e){if(null==t)return{};var n=je(oo(t),(function(t){return[t]}));return e=lo(e),Yr(t,n,(function(t,n){return e(t,n[0])}))}var Ba=Ji(xa),Va=Ji(Ra);function $a(t){return null==t?[]:Xe(t,xa(t))}var za=Ni((function(t,e,n){return e=e.toLowerCase(),t+(n?Fa(e):e)}));function Fa(t){return Ja(ma(t).toLowerCase())}function Wa(t){return(t=ma(t))&&t.replace(wt,rn).replace(te,"")}var qa=Ni((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Ya=Ni((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Ka=Di("toLowerCase"),Ga=Ni((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()})),Za=Ni((function(t,e,n){return t+(n?" ":"")+Ja(e)})),Ha=Ni((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Ja=Di("toUpperCase");function Qa(e,n,r){return e=ma(e),(n=r?t:n)===t?function(t){return ie.test(t)}(e)?function(t){return t.match(ne)||[]}(e):function(t){return t.match(ct)||[]}(e):e.match(n)||[]}var Xa=Jr((function(e,n){try{return Se(e,t,n)}catch(t){return Js(t)?t:new It(t)}})),tu=ro((function(t,e){return Te(e,(function(e){e=Uo(e),sr(t,e,Os(t[e],t))})),t}));function eu(t){return function(){return t}}var nu=Vi(),ru=Vi(!0);function iu(t){return t}function ou(t){return Dr("function"==typeof t?t:lr(t,1))}var su=Jr((function(t,e){return function(n){return Lr(n,t,e)}})),au=Jr((function(t,e){return function(n){return Lr(t,n,e)}}));function uu(t,e,n){var r=xa(e),i=Er(e,r);null!=n||ea(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=Er(e,xa(e)));var o=!(ea(n)&&"chain"in n&&!n.chain),s=Qs(t);return Te(i,(function(n){var r=e[n];t[n]=r,s&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=Oi(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,Me([this.value()],arguments))})})),t}function lu(){}var cu=Wi(je),fu=Wi(Oe),hu=Wi(Ue);function pu(t){return Ao(t)?Ye(Uo(t)):function(t){return function(e){return Ir(e,t)}}(t)}var du=Yi(),gu=Yi(!0);function _u(){return[]}function vu(){return!1}var yu,mu=Fi((function(t,e){return t+e}),0),wu=Zi("ceil"),bu=Fi((function(t,e){return t/e}),1),Au=Zi("floor"),Eu=Fi((function(t,e){return t*e}),1),Iu=Zi("round"),Cu=Fi((function(t,e){return t-e}),0);return $n.after=function(t,n){if("function"!=typeof n)throw new Ot(e);return t=ga(t),function(){if(--t<1)return n.apply(this,arguments)}},$n.ary=Ts,$n.assign=wa,$n.assignIn=ba,$n.assignInWith=Aa,$n.assignWith=Ea,$n.at=Ia,$n.before=ks,$n.bind=Os,$n.bindAll=tu,$n.bindKey=Ls,$n.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return qs(t)?t:[t]},$n.chain=ps,$n.chunk=function(e,n,r){n=(r?bo(e,n,r):n===t)?1:mn(ga(n),0);var i=null==e?0:e.length;if(!i||n<1)return[];for(var o=0,s=0,a=st(ge(i/n));o<i;)a[s++]=ii(e,o,o+=n);return a},$n.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},$n.concat=function(){var t=arguments.length;if(!t)return[];for(var e=st(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return Me(qs(n)?Oi(n):[n],yr(e,1))},$n.cond=function(t){var n=null==t?0:t.length,r=lo();return t=n?je(t,(function(t){if("function"!=typeof t[1])throw new Ot(e);return[r(t[0]),t[1]]})):[],Jr((function(e){for(var r=-1;++r<n;){var i=t[r];if(Se(i[0],this,e))return Se(i[1],this,e)}}))},$n.conforms=function(t){return function(t){var e=xa(t);return function(n){return cr(n,t,e)}}(lr(t,1))},$n.constant=eu,$n.countBy=_s,$n.create=function(t,e){var n=zn(t);return null==e?n:or(n,e)},$n.curry=function e(n,r,i){var o=Qi(n,8,t,t,t,t,t,r=i?t:r);return o.placeholder=e.placeholder,o},$n.curryRight=function e(n,r,o){var s=Qi(n,i,t,t,t,t,t,r=o?t:r);return s.placeholder=e.placeholder,s},$n.debounce=xs,$n.defaults=Ca,$n.defaultsDeep=Sa,$n.defer=Rs,$n.delay=js,$n.difference=$o,$n.differenceBy=zo,$n.differenceWith=Fo,$n.drop=function(e,n,r){var i=null==e?0:e.length;return i?ii(e,(n=r||n===t?1:ga(n))<0?0:n,i):[]},$n.dropRight=function(e,n,r){var i=null==e?0:e.length;return i?ii(e,0,(n=i-(n=r||n===t?1:ga(n)))<0?0:n):[]},$n.dropRightWhile=function(t,e){return t&&t.length?di(t,lo(e,3),!0,!0):[]},$n.dropWhile=function(t,e){return t&&t.length?di(t,lo(e,3),!0):[]},$n.fill=function(e,n,r,i){var o=null==e?0:e.length;return o?(r&&"number"!=typeof r&&bo(e,n,r)&&(r=0,i=o),function(e,n,r,i){var o=e.length;for((r=ga(r))<0&&(r=-r>o?0:o+r),(i=i===t||i>o?o:ga(i))<0&&(i+=o),i=r>i?0:_a(i);r<i;)e[r++]=n;return e}(e,n,r,i)):[]},$n.filter=function(t,e){return(qs(t)?Le:vr)(t,lo(e,3))},$n.flatMap=function(t,e){return yr(Is(t,e),1)},$n.flatMapDeep=function(t,e){return yr(Is(t,e),l)},$n.flatMapDepth=function(e,n,r){return r=r===t?1:ga(r),yr(Is(e,n),r)},$n.flatten=Yo,$n.flattenDeep=function(t){return null!=t&&t.length?yr(t,l):[]},$n.flattenDepth=function(e,n){return null!=e&&e.length?yr(e,n=n===t?1:ga(n)):[]},$n.flip=function(t){return Qi(t,512)},$n.flow=nu,$n.flowRight=ru,$n.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},$n.functions=function(t){return null==t?[]:Er(t,xa(t))},$n.functionsIn=function(t){return null==t?[]:Er(t,Ra(t))},$n.groupBy=bs,$n.initial=function(t){return null!=t&&t.length?ii(t,0,-1):[]},$n.intersection=Go,$n.intersectionBy=Zo,$n.intersectionWith=Ho,$n.invert=ka,$n.invertBy=Oa,$n.invokeMap=As,$n.iteratee=ou,$n.keyBy=Es,$n.keys=xa,$n.keysIn=Ra,$n.map=Is,$n.mapKeys=function(t,e){var n={};return e=lo(e,3),br(t,(function(t,r,i){sr(n,e(t,r,i),t)})),n},$n.mapValues=function(t,e){var n={};return e=lo(e,3),br(t,(function(t,r,i){sr(n,r,e(t,r,i))})),n},$n.matches=function(t){return $r(lr(t,1))},$n.matchesProperty=function(t,e){return zr(t,lr(e,1))},$n.memoize=Ms,$n.merge=ja,$n.mergeWith=Ma,$n.method=su,$n.methodOf=au,$n.mixin=uu,$n.negate=Ds,$n.nthArg=function(t){return t=ga(t),Jr((function(e){return Wr(e,t)}))},$n.omit=Da,$n.omitBy=function(t,e){return Ua(t,Ds(lo(e)))},$n.once=function(t){return ks(2,t)},$n.orderBy=function(e,n,r,i){return null==e?[]:(qs(n)||(n=null==n?[]:[n]),qs(r=i?t:r)||(r=null==r?[]:[r]),qr(e,n,r))},$n.over=cu,$n.overArgs=Ns,$n.overEvery=fu,$n.overSome=hu,$n.partial=Us,$n.partialRight=Bs,$n.partition=Cs,$n.pick=Na,$n.pickBy=Ua,$n.property=pu,$n.propertyOf=function(e){return function(n){return null==e?t:Ir(e,n)}},$n.pull=Qo,$n.pullAll=Xo,$n.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Kr(t,e,lo(n,2)):t},$n.pullAllWith=function(e,n,r){return e&&e.length&&n&&n.length?Kr(e,n,t,r):e},$n.pullAt=ts,$n.range=du,$n.rangeRight=gu,$n.rearg=Vs,$n.reject=function(t,e){return(qs(t)?Le:vr)(t,Ds(lo(e,3)))},$n.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=lo(e,3);++r<o;){var s=t[r];e(s,r,t)&&(n.push(s),i.push(r))}return Gr(t,i),n},$n.rest=function(n,r){if("function"!=typeof n)throw new Ot(e);return Jr(n,r=r===t?r:ga(r))},$n.reverse=es,$n.sampleSize=function(e,n,r){return n=(r?bo(e,n,r):n===t)?1:ga(n),(qs(e)?Xn:Xr)(e,n)},$n.set=function(t,e,n){return null==t?t:ti(t,e,n)},$n.setWith=function(e,n,r,i){return i="function"==typeof i?i:t,null==e?e:ti(e,n,r,i)},$n.shuffle=function(t){return(qs(t)?tr:ri)(t)},$n.slice=function(e,n,r){var i=null==e?0:e.length;return i?(r&&"number"!=typeof r&&bo(e,n,r)?(n=0,r=i):(n=null==n?0:ga(n),r=r===t?i:ga(r)),ii(e,n,r)):[]},$n.sortBy=Ss,$n.sortedUniq=function(t){return t&&t.length?ui(t):[]},$n.sortedUniqBy=function(t,e){return t&&t.length?ui(t,lo(e,2)):[]},$n.split=function(e,n,r){return r&&"number"!=typeof r&&bo(e,n,r)&&(n=r=t),(r=r===t?h:r>>>0)?(e=ma(e))&&("string"==typeof n||null!=n&&!sa(n))&&!(n=ci(n))&&an(e)?Ai(dn(e),0,r):e.split(n,r):[]},$n.spread=function(t,n){if("function"!=typeof t)throw new Ot(e);return n=null==n?0:mn(ga(n),0),Jr((function(e){var r=e[n],i=Ai(e,0,n);return r&&Me(i,r),Se(t,this,i)}))},$n.tail=function(t){var e=null==t?0:t.length;return e?ii(t,1,e):[]},$n.take=function(e,n,r){return e&&e.length?ii(e,0,(n=r||n===t?1:ga(n))<0?0:n):[]},$n.takeRight=function(e,n,r){var i=null==e?0:e.length;return i?ii(e,(n=i-(n=r||n===t?1:ga(n)))<0?0:n,i):[]},$n.takeRightWhile=function(t,e){return t&&t.length?di(t,lo(e,3),!1,!0):[]},$n.takeWhile=function(t,e){return t&&t.length?di(t,lo(e,3)):[]},$n.tap=function(t,e){return e(t),t},$n.throttle=function(t,n,r){var i=!0,o=!0;if("function"!=typeof t)throw new Ot(e);return ea(r)&&(i="leading"in r?!!r.leading:i,o="trailing"in r?!!r.trailing:o),xs(t,n,{leading:i,maxWait:n,trailing:o})},$n.thru=ds,$n.toArray=pa,$n.toPairs=Ba,$n.toPairsIn=Va,$n.toPath=function(t){return qs(t)?je(t,Uo):la(t)?[t]:Oi(No(ma(t)))},$n.toPlainObject=ya,$n.transform=function(t,e,n){var r=qs(t),i=r||Zs(t)||ca(t);if(e=lo(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:ea(t)&&Qs(o)?zn(Kt(t)):{}}return(i?Te:br)(t,(function(t,r,i){return e(n,t,r,i)})),n},$n.unary=function(t){return Ts(t,1)},$n.union=ns,$n.unionBy=rs,$n.unionWith=is,$n.uniq=function(t){return t&&t.length?fi(t):[]},$n.uniqBy=function(t,e){return t&&t.length?fi(t,lo(e,2)):[]},$n.uniqWith=function(e,n){return n="function"==typeof n?n:t,e&&e.length?fi(e,t,n):[]},$n.unset=function(t,e){return null==t||hi(t,e)},$n.unzip=os,$n.unzipWith=ss,$n.update=function(t,e,n){return null==t?t:pi(t,e,mi(n))},$n.updateWith=function(e,n,r,i){return i="function"==typeof i?i:t,null==e?e:pi(e,n,mi(r),i)},$n.values=$a,$n.valuesIn=function(t){return null==t?[]:Xe(t,Ra(t))},$n.without=as,$n.words=Qa,$n.wrap=function(t,e){return Us(mi(e),t)},$n.xor=us,$n.xorBy=ls,$n.xorWith=cs,$n.zip=fs,$n.zipObject=function(t,e){return vi(t||[],e||[],nr)},$n.zipObjectDeep=function(t,e){return vi(t||[],e||[],ti)},$n.zipWith=hs,$n.entries=Ba,$n.entriesIn=Va,$n.extend=ba,$n.extendWith=Aa,uu($n,$n),$n.add=mu,$n.attempt=Xa,$n.camelCase=za,$n.capitalize=Fa,$n.ceil=wu,$n.clamp=function(e,n,r){return r===t&&(r=n,n=t),r!==t&&(r=(r=va(r))==r?r:0),n!==t&&(n=(n=va(n))==n?n:0),ur(va(e),n,r)},$n.clone=function(t){return lr(t,4)},$n.cloneDeep=function(t){return lr(t,5)},$n.cloneDeepWith=function(e,n){return lr(e,5,n="function"==typeof n?n:t)},$n.cloneWith=function(e,n){return lr(e,4,n="function"==typeof n?n:t)},$n.conformsTo=function(t,e){return null==e||cr(t,e,xa(e))},$n.deburr=Wa,$n.defaultTo=function(t,e){return null==t||t!=t?e:t},$n.divide=bu,$n.endsWith=function(e,n,r){e=ma(e),n=ci(n);var i=e.length,o=r=r===t?i:ur(ga(r),0,i);return(r-=n.length)>=0&&e.slice(r,o)==n},$n.eq=$s,$n.escape=function(t){return(t=ma(t))&&H.test(t)?t.replace(G,on):t},$n.escapeRegExp=function(t){return(t=ma(t))&&it.test(t)?t.replace(rt,"\\$&"):t},$n.every=function(e,n,r){var i=qs(e)?Oe:gr;return r&&bo(e,n,r)&&(n=t),i(e,lo(n,3))},$n.find=vs,$n.findIndex=Wo,$n.findKey=function(t,e){return Ve(t,lo(e,3),br)},$n.findLast=ys,$n.findLastIndex=qo,$n.findLastKey=function(t,e){return Ve(t,lo(e,3),Ar)},$n.floor=Au,$n.forEach=ms,$n.forEachRight=ws,$n.forIn=function(t,e){return null==t?t:mr(t,lo(e,3),Ra)},$n.forInRight=function(t,e){return null==t?t:wr(t,lo(e,3),Ra)},$n.forOwn=function(t,e){return t&&br(t,lo(e,3))},$n.forOwnRight=function(t,e){return t&&Ar(t,lo(e,3))},$n.get=Pa,$n.gt=zs,$n.gte=Fs,$n.has=function(t,e){return null!=t&&vo(t,e,Tr)},$n.hasIn=Ta,$n.head=Ko,$n.identity=iu,$n.includes=function(t,e,n,r){t=Ks(t)?t:$a(t),n=n&&!r?ga(n):0;var i=t.length;return n<0&&(n=mn(i+n,0)),ua(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&ze(t,e,n)>-1},$n.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ga(n);return i<0&&(i=mn(r+i,0)),ze(t,e,i)},$n.inRange=function(e,n,r){return n=da(n),r===t?(r=n,n=0):r=da(r),function(t,e,n){return t>=wn(e,n)&&t<mn(e,n)}(e=va(e),n,r)},$n.invoke=La,$n.isArguments=Ws,$n.isArray=qs,$n.isArrayBuffer=Ys,$n.isArrayLike=Ks,$n.isArrayLikeObject=Gs,$n.isBoolean=function(t){return!0===t||!1===t||na(t)&&Sr(t)==_},$n.isBuffer=Zs,$n.isDate=Hs,$n.isElement=function(t){return na(t)&&1===t.nodeType&&!oa(t)},$n.isEmpty=function(t){if(null==t)return!0;if(Ks(t)&&(qs(t)||"string"==typeof t||"function"==typeof t.splice||Zs(t)||ca(t)||Ws(t)))return!t.length;var e=_o(t);if(e==b||e==S)return!t.size;if(Co(t))return!Nr(t).length;for(var n in t)if(Dt.call(t,n))return!1;return!0},$n.isEqual=function(t,e){return Rr(t,e)},$n.isEqualWith=function(e,n,r){var i=(r="function"==typeof r?r:t)?r(e,n):t;return i===t?Rr(e,n,t,r):!!i},$n.isError=Js,$n.isFinite=function(t){return"number"==typeof t&&Be(t)},$n.isFunction=Qs,$n.isInteger=Xs,$n.isLength=ta,$n.isMap=ra,$n.isMatch=function(t,e){return t===e||jr(t,e,fo(e))},$n.isMatchWith=function(e,n,r){return r="function"==typeof r?r:t,jr(e,n,fo(n),r)},$n.isNaN=function(t){return ia(t)&&t!=+t},$n.isNative=function(t){if(Io(t))throw new It("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Mr(t)},$n.isNil=function(t){return null==t},$n.isNull=function(t){return null===t},$n.isNumber=ia,$n.isObject=ea,$n.isObjectLike=na,$n.isPlainObject=oa,$n.isRegExp=sa,$n.isSafeInteger=function(t){return Xs(t)&&t>=-9007199254740991&&t<=c},$n.isSet=aa,$n.isString=ua,$n.isSymbol=la,$n.isTypedArray=ca,$n.isUndefined=function(e){return e===t},$n.isWeakMap=function(t){return na(t)&&_o(t)==k},$n.isWeakSet=function(t){return na(t)&&"[object WeakSet]"==Sr(t)},$n.join=function(t,e){return null==t?"":Ke.call(t,e)},$n.kebabCase=qa,$n.last=Jo,$n.lastIndexOf=function(e,n,r){var i=null==e?0:e.length;if(!i)return-1;var o=i;return r!==t&&(o=(o=ga(r))<0?mn(i+o,0):wn(o,i-1)),n==n?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(e,n,o):$e(e,We,o,!0)},$n.lowerCase=Ya,$n.lowerFirst=Ka,$n.lt=fa,$n.lte=ha,$n.max=function(e){return e&&e.length?_r(e,iu,Pr):t},$n.maxBy=function(e,n){return e&&e.length?_r(e,lo(n,2),Pr):t},$n.mean=function(t){return qe(t,iu)},$n.meanBy=function(t,e){return qe(t,lo(e,2))},$n.min=function(e){return e&&e.length?_r(e,iu,Br):t},$n.minBy=function(e,n){return e&&e.length?_r(e,lo(n,2),Br):t},$n.stubArray=_u,$n.stubFalse=vu,$n.stubObject=function(){return{}},$n.stubString=function(){return""},$n.stubTrue=function(){return!0},$n.multiply=Eu,$n.nth=function(e,n){return e&&e.length?Wr(e,ga(n)):t},$n.noConflict=function(){return de._===this&&(de._=$t),this},$n.noop=lu,$n.now=Ps,$n.pad=function(t,e,n){t=ma(t);var r=(e=ga(e))?pn(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return qi(_e(i),n)+t+qi(ge(i),n)},$n.padEnd=function(t,e,n){t=ma(t);var r=(e=ga(e))?pn(t):0;return e&&r<e?t+qi(e-r,n):t},$n.padStart=function(t,e,n){t=ma(t);var r=(e=ga(e))?pn(t):0;return e&&r<e?qi(e-r,n)+t:t},$n.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),An(ma(t).replace(ot,""),e||0)},$n.random=function(e,n,r){if(r&&"boolean"!=typeof r&&bo(e,n,r)&&(n=r=t),r===t&&("boolean"==typeof n?(r=n,n=t):"boolean"==typeof e&&(r=e,e=t)),e===t&&n===t?(e=0,n=1):(e=da(e),n===t?(n=e,e=0):n=da(n)),e>n){var i=e;e=n,n=i}if(r||e%1||n%1){var o=En();return wn(e+o*(n-e+ce("1e-"+((o+"").length-1))),n)}return Zr(e,n)},$n.reduce=function(t,e,n){var r=qs(t)?De:Ge,i=arguments.length<3;return r(t,lo(e,4),n,i,pr)},$n.reduceRight=function(t,e,n){var r=qs(t)?Ne:Ge,i=arguments.length<3;return r(t,lo(e,4),n,i,dr)},$n.repeat=function(e,n,r){return n=(r?bo(e,n,r):n===t)?1:ga(n),Hr(ma(e),n)},$n.replace=function(){var t=arguments,e=ma(t[0]);return t.length<3?e:e.replace(t[1],t[2])},$n.result=function(e,n,r){var i=-1,o=(n=wi(n,e)).length;for(o||(o=1,e=t);++i<o;){var s=null==e?t:e[Uo(n[i])];s===t&&(i=o,s=r),e=Qs(s)?s.call(e):s}return e},$n.round=Iu,$n.runInContext=$,$n.sample=function(t){return(qs(t)?Qn:Qr)(t)},$n.size=function(t){if(null==t)return 0;if(Ks(t))return ua(t)?pn(t):t.length;var e=_o(t);return e==b||e==S?t.size:Nr(t).length},$n.snakeCase=Ga,$n.some=function(e,n,r){var i=qs(e)?Ue:oi;return r&&bo(e,n,r)&&(n=t),i(e,lo(n,3))},$n.sortedIndex=function(t,e){return si(t,e)},$n.sortedIndexBy=function(t,e,n){return ai(t,e,lo(n,2))},$n.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=si(t,e);if(r<n&&$s(t[r],e))return r}return-1},$n.sortedLastIndex=function(t,e){return si(t,e,!0)},$n.sortedLastIndexBy=function(t,e,n){return ai(t,e,lo(n,2),!0)},$n.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=si(t,e,!0)-1;if($s(t[n],e))return n}return-1},$n.startCase=Za,$n.startsWith=function(t,e,n){return t=ma(t),n=null==n?0:ur(ga(n),0,t.length),e=ci(e),t.slice(n,n+e.length)==e},$n.subtract=Cu,$n.sum=function(t){return t&&t.length?Ze(t,iu):0},$n.sumBy=function(t,e){return t&&t.length?Ze(t,lo(e,2)):0},$n.template=function(e,n,r){var i=$n.templateSettings;r&&bo(e,n,r)&&(n=t),e=ma(e),n=Aa({},n,i,Xi);var o,s,a=Aa({},n.imports,i.imports,Xi),u=xa(a),l=Xe(a,u),c=0,f=n.interpolate||bt,h="__p += '",p=Tt((n.escape||bt).source+"|"+f.source+"|"+(f===X?pt:bt).source+"|"+(n.evaluate||bt).source+"|$","g"),d="//# sourceURL="+(Dt.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++se+"]")+"\n";e.replace(p,(function(t,n,r,i,a,u){return r||(r=i),h+=e.slice(c,u).replace(At,sn),n&&(o=!0,h+="' +\n__e("+n+") +\n'"),a&&(s=!0,h+="';\n"+a+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+t.length,t})),h+="';\n";var g=Dt.call(n,"variable")&&n.variable;if(g){if(ft.test(g))throw new It("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(s?h.replace(W,""):h).replace(q,"$1").replace(Y,"$1;"),h="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var _=Xa((function(){return Ct(u,d+"return "+h).apply(t,l)}));if(_.source=h,Js(_))throw _;return _},$n.times=function(t,e){if((t=ga(t))<1||t>c)return[];var n=h,r=wn(t,h);e=lo(e),t-=h;for(var i=He(r,e);++n<t;)e(n);return i},$n.toFinite=da,$n.toInteger=ga,$n.toLength=_a,$n.toLower=function(t){return ma(t).toLowerCase()},$n.toNumber=va,$n.toSafeInteger=function(t){return t?ur(ga(t),-9007199254740991,c):0===t?t:0},$n.toString=ma,$n.toUpper=function(t){return ma(t).toUpperCase()},$n.trim=function(e,n,r){if((e=ma(e))&&(r||n===t))return Je(e);if(!e||!(n=ci(n)))return e;var i=dn(e),o=dn(n);return Ai(i,en(i,o),nn(i,o)+1).join("")},$n.trimEnd=function(e,n,r){if((e=ma(e))&&(r||n===t))return e.slice(0,gn(e)+1);if(!e||!(n=ci(n)))return e;var i=dn(e);return Ai(i,0,nn(i,dn(n))+1).join("")},$n.trimStart=function(e,n,r){if((e=ma(e))&&(r||n===t))return e.replace(ot,"");if(!e||!(n=ci(n)))return e;var i=dn(e);return Ai(i,en(i,dn(n))).join("")},$n.truncate=function(e,n){var r=30,i="...";if(ea(n)){var o="separator"in n?n.separator:o;r="length"in n?ga(n.length):r,i="omission"in n?ci(n.omission):i}var s=(e=ma(e)).length;if(an(e)){var a=dn(e);s=a.length}if(r>=s)return e;var u=r-pn(i);if(u<1)return i;var l=a?Ai(a,0,u).join(""):e.slice(0,u);if(o===t)return l+i;if(a&&(u+=l.length-u),sa(o)){if(e.slice(u).search(o)){var c,f=l;for(o.global||(o=Tt(o.source,ma(dt.exec(o))+"g")),o.lastIndex=0;c=o.exec(f);)var h=c.index;l=l.slice(0,h===t?u:h)}}else if(e.indexOf(ci(o),u)!=u){var p=l.lastIndexOf(o);p>-1&&(l=l.slice(0,p))}return l+i},$n.unescape=function(t){return(t=ma(t))&&Z.test(t)?t.replace(K,_n):t},$n.uniqueId=function(t){var e=++Nt;return ma(t)+e},$n.upperCase=Ha,$n.upperFirst=Ja,$n.each=ms,$n.eachRight=ws,$n.first=Ko,uu($n,(yu={},br($n,(function(t,e){Dt.call($n.prototype,e)||(yu[e]=t)})),yu),{chain:!1}),$n.VERSION="4.17.21",Te(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){$n[t].placeholder=$n})),Te(["drop","take"],(function(e,n){qn.prototype[e]=function(r){r=r===t?1:mn(ga(r),0);var i=this.__filtered__&&!n?new qn(this):this.clone();return i.__filtered__?i.__takeCount__=wn(r,i.__takeCount__):i.__views__.push({size:wn(r,h),type:e+(i.__dir__<0?"Right":"")}),i},qn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Te(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;qn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:lo(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),Te(["head","last"],(function(t,e){var n="take"+(e?"Right":"");qn.prototype[t]=function(){return this[n](1).value()[0]}})),Te(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");qn.prototype[t]=function(){return this.__filtered__?new qn(this):this[n](1)}})),qn.prototype.compact=function(){return this.filter(iu)},qn.prototype.find=function(t){return this.filter(t).head()},qn.prototype.findLast=function(t){return this.reverse().find(t)},qn.prototype.invokeMap=Jr((function(t,e){return"function"==typeof t?new qn(this):this.map((function(n){return Lr(n,t,e)}))})),qn.prototype.reject=function(t){return this.filter(Ds(lo(t)))},qn.prototype.slice=function(e,n){e=ga(e);var r=this;return r.__filtered__&&(e>0||n<0)?new qn(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),n!==t&&(r=(n=ga(n))<0?r.dropRight(-n):r.take(n-e)),r)},qn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},qn.prototype.toArray=function(){return this.take(h)},br(qn.prototype,(function(e,n){var r=/^(?:filter|find|map|reject)|While$/.test(n),i=/^(?:head|last)$/.test(n),o=$n[i?"take"+("last"==n?"Right":""):n],s=i||/^find/.test(n);o&&($n.prototype[n]=function(){var n=this.__wrapped__,a=i?[1]:arguments,u=n instanceof qn,l=a[0],c=u||qs(n),f=function(t){var e=o.apply($n,Me([t],a));return i&&h?e[0]:e};c&&r&&"function"==typeof l&&1!=l.length&&(u=c=!1);var h=this.__chain__,p=!!this.__actions__.length,d=s&&!h,g=u&&!p;if(!s&&c){n=g?n:new qn(this);var _=e.apply(n,a);return _.__actions__.push({func:ds,args:[f],thisArg:t}),new Wn(_,h)}return d&&g?e.apply(this,a):(_=this.thru(f),d?i?_.value()[0]:_.value():_)})})),Te(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Lt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);$n.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(qs(i)?i:[],t)}return this[n]((function(n){return e.apply(qs(n)?n:[],t)}))}})),br(qn.prototype,(function(t,e){var n=$n[e];if(n){var r=n.name+"";Dt.call(xn,r)||(xn[r]=[]),xn[r].push({name:e,func:n})}})),xn[$i(t,2).name]=[{name:"wrapper",func:t}],qn.prototype.clone=function(){var t=new qn(this.__wrapped__);return t.__actions__=Oi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Oi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Oi(this.__views__),t},qn.prototype.reverse=function(){if(this.__filtered__){var t=new qn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},qn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=qs(t),r=e<0,i=n?t.length:0,o=function(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=wn(e,t+s);break;case"takeRight":t=mn(t,e-s)}}return{start:t,end:e}}(0,i,this.__views__),s=o.start,a=o.end,u=a-s,l=r?a:s-1,c=this.__iteratees__,f=c.length,h=0,p=wn(u,this.__takeCount__);if(!n||!r&&i==u&&p==u)return gi(t,this.__actions__);var d=[];t:for(;u--&&h<p;){for(var g=-1,_=t[l+=e];++g<f;){var v=c[g],y=v.iteratee,m=v.type,w=y(_);if(2==m)_=w;else if(!w){if(1==m)continue t;break t}}d[h++]=_}return d},$n.prototype.at=gs,$n.prototype.chain=function(){return ps(this)},$n.prototype.commit=function(){return new Wn(this.value(),this.__chain__)},$n.prototype.next=function(){this.__values__===t&&(this.__values__=pa(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?t:this.__values__[this.__index__++]}},$n.prototype.plant=function(e){for(var n,r=this;r instanceof Fn;){var i=Vo(r);i.__index__=0,i.__values__=t,n?o.__wrapped__=i:n=i;var o=i;r=r.__wrapped__}return o.__wrapped__=e,n},$n.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof qn){var n=e;return this.__actions__.length&&(n=new qn(this)),(n=n.reverse()).__actions__.push({func:ds,args:[es],thisArg:t}),new Wn(n,this.__chain__)}return this.thru(es)},$n.prototype.toJSON=$n.prototype.valueOf=$n.prototype.value=function(){return gi(this.__wrapped__,this.__actions__)},$n.prototype.first=$n.prototype.head,Qt&&($n.prototype[Qt]=function(){return this}),$n}();_e?((_e.exports=vn)._=vn,ge._=vn):de._=vn}.call(F);var q=function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(t),e)};class Y{constructor(t,e,n){this.config=t,this.setOptions(n),this.setLocalizationOptions(e)}setLocalizationOptions(t){for(const e in t)e&&"string"==typeof e&&(this[e]=t[e])}getFinalValue(t,e,n){const r=typeof n;if(void 0!==e){if("boolean"!==r&&"number"!==r||(e=(t=>{if("true"===t)return!0;if("false"===t)return!1;const e=parseFloat(t);return isNaN(e)?t:e})(e)),typeof e!==r)throw new Error(`invalid parameter: ${t} should be a ${r}`);return"object"===r&&"object"==typeof e?W.exports.mergeWith(n,e,((t,e)=>{if(null===e&&t)return t})):e}return n}setOptions(t,e=!1){for(const n in t)if(q(t,n)){const r=e?this.config[n]||this.config[n.toLowerCase()]:this.config[n],i=t[n];this[n]=this.getFinalValue(n,r,i)}}}class K extends Y{constructor(t,e,n){var r,i,o,s;const a=e.localization.advertising,{admessage:u,podmessage:l,cuetext:c,loadingAd:f,skipmessage:h,skiptext:p}=a;super(t,{admessage:u,podmessage:l,cuetext:c,loadingAd:f,skipmessage:h,skiptext:p},{debug:!1,admessagedynamickey:/(\b)xx(s?\b)/g,loadVideoTimeout:15e3,requestTimeout:15e3,adBlockTimeout:4e3}),this.admessagedynamic=this.admessage,this.fwassetid=n.fwassetid||e.fwassetid,this.duration=n.duration||e.duration||0,this.adschedule=n.adschedule||null;const d=n.freewheel||{},g=this.config.freewheel||{};this.profileid=d.profileid||g.profileid,this.sectionid=d.sectionid||g.sectionid,this.networkid=d.networkid||g.networkid,this.serverid=d.serverid||g.serverid,this.afid=d.afid||g.afid,this.sfid=d.sfid||g.sfid,this.vcid=d.vcid||g.vcid,this.capabilities={flag:{},metr:{}},null!=d&&null!=(r=d.capabilities)&&r.flag?this.capabilities.flag=d.capabilities.flag:null!=g&&null!=(i=g.capabilities)&&i.flag&&(this.capabilities.flag=g.capabilities.flag),null!=d&&null!=(o=d.capabilities)&&o.metr?this.capabilities.metr=d.capabilities.metr:null!=g&&null!=(s=g.capabilities)&&s.metr&&(this.capabilities.metr=g.capabilities.metr),this.custom=d.custom||g.custom||{}}setOptions(t){return super.setOptions(t,!0)}getSchedule(){const t=this.config;return this.adschedule||t.tag||t.schedule||t.ad}getAdRules(){const t=this.config.rules||{},e=parseInt(t.frequency,10);return{startOn:t.startOn||1,frequency:isNaN(e)?1:e}}}const G={};const Z="6.43.0",H=`http://adm.fwmrm.net/libs/adm/${Z}/AdManager.js`,J=`https://mssl.fwmrm.net/libs/adm/${Z}/AdManager.js`;let Q=null;function X(t,e=null){var n,r;if(!Q&&null!=(n=window)&&null!=(r=n.tv)&&r.freewheel&&(Q=Promise.resolve()),Q)return Q;const{protocol:i}=document.location;return Q=function(t,e){if(G[e])return G[e];"file:"===document.location.protocol&&0===e.indexOf("//")&&(e=`https:${e}`);const n=new(0,t.scriptloader)(e);return G[e]=n.load(),G[e]}(t,e||("file:"===i||"https:"===i?J:H)),Q}const tt="__JWP____ePBPK____";let et={};window[tt]?et=window[tt]:window[tt]=et;const nt={},rt=(t,e,n)=>{const r=nt[e];return r||(nt[e]=((t,e)=>{const n=et[e];return n||(et[e]=new Promise(((n,r)=>{const i=new t.key(e);if("unlimited"===i.edition())return r();const o=["//","entitlements.jwplayer.com","/",i.token(),".json"];"file:"===window.location.protocol&&o.unshift("https:"),t.ajax(o.join(""),(function(t){const e=null==t?void 0:t.response;e?n(e):r()}),(function(){r()}),{timeout:1e4,responseType:"json"})})))})(t,e).catch((()=>({}))).then((t=>{let e,r;if(!0===n.outstream?(e=!1!==t.canPlayOutstreamAds,r="Outstream Ad Limit Reached"):(e=!1!==t.canPlayAds,r="Ad Limit Reached"),!1===e)throw new Error(r);return{message:"Can Play Ads"}})))};class it{constructor(t,e){t.extend(this,e),this.isMuted=!1,this.vol=0,this.freewheelProxy=null}setProxy(t){this.freewheelProxy=t,this.mute(this.isMuted)}attachMedia(){}detachMedia(){}mute(t){this.isMuted=t,this.freewheelProxy&&this.freewheelProxy.setAdVolume(this.isMuted?0:this.vol)}volume(t){this.vol=t/100,this.freewheelProxy&&this.freewheelProxy.setAdVolume(this.vol)}setFullscreen(t){if(this.video){if(t)try{const t=this.video.webkitEnterFullscreen;t&&t.apply(this.video)}catch(t){return!1}else{const t=this.video.webkitExitFullscreen;t&&t.apply(this.video)}return Boolean(t)}}}var ot="2.2.17",st=function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(t),e)};const at=/^((https?:)?\/\/)?(secure)?pubads\.g\.doubleclick\.net\/gampad\/ads\?[\S]*$/,ut=function(t,e,n){for(;-1!==t.indexOf(e);)t=t.replace(e,n);return t},lt=function(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n},ct=function(e,n,r,i,s,a={}){var u,l,c,f,h,p,d;if(!e)return e;const g=function(t,e){const n=t.getConfig(),r=t.getPlaylistItem()===e,i={playerHeight:t.getHeight()||n.height||"",playerWidth:t.getWidth()||n.width||"",itemDuration:r&&lt(t.getDuration(),3)||"",integerDuration:r&&lt(e.duration,0)||"",item:e,jwpseg:U(t,e),placement:M(n),userAgent:navigator.userAgent},o=n.advertising?n.advertising.ampMacros:{};return Object.assign(i,o)}(n,r),_=D();let v=null;null!=r&&r.jwpseg&&(v=B(r.jwpseg));const y={viewability:(null==(u=v)||null==(l=u.hb_jwvb)?void 0:l.map((t=>encodeURIComponent(t))).join(","))||"",completion:(null==(c=v)||null==(f=c.hb_jwcr)?void 0:f.map((t=>encodeURIComponent(t))).join(","))||"",brandSafety:1===(null==(h=v)?void 0:h.hb_jwbs[0])?encodeURIComponent("Yes"):encodeURIComponent("No"),contextual:(null==(p=v)||null==(d=p.hb_jwiab)?void 0:d.map((t=>encodeURIComponent(t))).join(","))||""};-1!==e.indexOf(o)&&(a.jwpseg=g.jwpseg),e=ut(e,"__random-number__",(()=>Math.random()*Math.pow(10,18))),e=ut(e,"__timestamp__",(new Date).getTime()),e=ut(e,"__page-url__",encodeURIComponent(g.pageUrl||_.url)),e=ut(e,"__referrer__",encodeURIComponent(g.referrer||_.referrer)),e=ut(e,"__player-height__",g.playerHeight),e=ut(e,"__player-width__",g.playerWidth),e=ut(e,"__item-duration__",g.itemDuration),e=ut(e,"__integer-duration__",g.integerDuration),e=ut(e,o,g.jwpseg),e=ut(e,"__domain__",encodeURIComponent(g.domain||_.domain)),e=ut(e,"__placement__",g.placement),e=ut(e,"__device-ua__",encodeURIComponent(g.userAgent)),e=ut(e,"__jw-viewability__",y.viewability),e=ut(e,"__jw-completion__",y.completion),e=ut(e,"__jw-brand-safety__",y.brandSafety),e=ut(e,"__jw-contextual__",y.contextual),e=s.companion?ut(e,"__companion-div__",s.companion.id):ut(e,"__companion-div__","");const m=Object.keys(g).filter((t=>-1!==t.indexOf("item"))),w=m.map((t=>{const e=t.match(/item([\w]+?)(List)?$/);let n;return e&&(n=e[1].toLowerCase()),n}));let b=null;const A=/__item-([\w-]+?)(-list)?__/g,E=e;for(;null!==(b=A.exec(E));){const t=b[0],n=b[1],i=m[w.indexOf(n)];let o="";if(st(r,n)&&"string"==typeof r[n]||i){o=i?g[i]:r[n];const t=!1===s.truncateMacros?4096:1e3;o.length>t&&(o=o.substring(0,t));const e=b[2]?",":null;o=o.split(e).map(encodeURIComponent)}e=ut(e,t,o)}if(i===t)return e;if("vast"===i){const t=n.getConfig().autostart?1:0,r=n.getMute()?1:0;e=function(t,e,n){return at.test(t)&&(t=`${t}&vpa=${e}&vpmute=${n}`),t}(e,t,r)}if(("googima"===i||"cnx"===i)&&r.title&&-1===e.indexOf("vid_t=")){const t=r.title.substring(0,100).replace(/[^\x00-\x7F]/g,"");e+=`${function(t){return-1!==t.indexOf("?")?"&":"?"}(e)}vid_t=${encodeURIComponent(t)}`}return-1!==e.indexOf("__gdpr__")||-1!==e.indexOf("__gdpr_consent__")||-1!==e.indexOf("__addtl_consent__")?function(t=1e3){return null===R&&(R=new Promise((t=>{const e=window.__tcfapi||x("__tcfapi");if(e)return e("getTCData",2,((e,n)=>{t(!1!==n?{gdprApplies:e.gdprApplies,consentData:e.tcString,addtlConsent:e.addtlConsent}:null)}));const n=window.__cmp||x("__cmp");if(n)return n("getConsentData",null,((e,n)=>{t(!1!==n?{gdprApplies:e.gdprApplies||e.isUserInEu,consentData:e.consentData}:null)}));const r=O();return t(r||{gdprApplies:!1,consentData:""})})).then((t=>(t&&(j=t),j)))),Promise.race([R,new Promise((e=>{setTimeout(e,t,j)}))])}().then((({gdprApplies:t,consentData:n,addtlConsent:r})=>(e=ut(e,"__gdpr__",t?1:0),e=ut(e,"__addtl_consent__",r||""),ut(e,"__gdpr_consent__",n||"")))).catch((()=>e)):Promise.resolve(e)},ft=(t,e)=>{let n=N(t,e,!1);return n||(n="pre"),"number"==typeof n&&(n=(t=>{const e=parseInt(t,10);let n=Math.floor(e)%1e3,r=Math.floor(e/1e3)%60,i=Math.floor(e/6e4)%60,o=Math.floor(e/36e5)%24;return o=o<10?`0${o}`:o,i=i<10?`0${i}`:i,r=r<10?`0${r}`:r,n=`000${n}`.slice(-3),`${o}:${i}:${r}.${n}`})(1e3*n)),n};class ht{constructor(t,e){this.player=t,this.options=e}getTagMap(e){const n=this.player,r=n.utils,i={},o=n.getPlaylistItem(n.getPlaylistItemIndex);return r.foreach(((t,e)=>{const n={};return e.foreach(t,(function(t,r){const i={};let o=r;r.ad&&(o=r.ad),i.offset=ft(o.offset||o.position||r.offset||"",e),i.tag=o.tag,o.customadunitname&&(i.customadunitname=o.customadunitname),i.type=o.type||r.type||"linear,nonlinear",void 0!==o.skipoffset&&(i.skipoffset=o.skipoffset),n[t]=i})),n})(e,r,n._),((e,s)=>{let a=N(s.offset,r,!1);if(n._.isString(a)&&(a=parseFloat(a.replace("pre","0").replace("post","-1"))),n._.isNumber(a)){const e={tagName:ct(s.tag,n,o,t,this.options),type:s.type};void 0!==s.skipoffset&&(e.skipoffset=s.skipoffset),s.customadunitname&&(e.customAdUnitName=s.customadunitname),i[a]=e}})),i}}var pt=function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(t),e)};const dt={};class gt{constructor(t,e,n,r,i){this.responsePromise=null,this.streamType=r,this.sdk=i,this.adsManager=new this.sdk.AdManager,this.adsManager.setNetwork(n.networkid),this.adsManager.setServer(n.serverid),this.options=n||{},this.version=t,this.schedule=null,this.tagMap={},this.logger=e.logger.child("ads-freewheel/AdsLoader"),this._fwassetid=null,this._fwduration=0}open(t,e){const{sdk:n}=this,r=this.options;if(this.currentAdContext)throw new Error("Request already made");const i=r.getSchedule();if(!i)return this.responsePromise=Promise.reject(),this.responsePromise;if(this.currentAdContext=this.adsManager.newContext(),this.setContextSettings(this.currentAdContext),this._fwassetid=r.fwassetid,this._fwduration=r.duration,this.schedule=i,this.responsePromise=new Promise(((t,e)=>{this.currentAdContext.addEventListener(n.EVENT_REQUEST_COMPLETE,t),this.currentAdContext.addEventListener(n.EVENT_ERROR,e)})),"string"==typeof i)this.currentAdContext.addTemporalSlot(i,n.ADUNIT_PREROLL,0);else{const o=new ht(t,e),s=this.tagMap=o.getTagMap(i),a=Object.keys(s);for(let t=0;t<a.length;t++){let e=parseFloat(a[t]);const i=s[e].tagName,o=s[e].customAdUnitName;let u=null;if("overlay"===s[e].type){if(-1===e)continue;u=n.ADUNIT_OVERLAY}if(!u)switch(e){case 0:u=o||n.ADUNIT_PREROLL;break;case-1:u=o||n.ADUNIT_POSTROLL,e=r.duration||1;break;default:u=o||n.ADUNIT_MIDROLL}this.currentAdContext.addTemporalSlot(i,u,e)}}return this.setCustomKeys(this.currentAdContext),this.setConsentData(),this.responsePromise}setContextSettings(t){const{options:e}=this;t.setProfile(e.profileid),dt[e.sectionid]||(dt[e.sectionid]=Math.floor(2147483648*Math.random()));const n=dt[e.sectionid],r=e.sfid||null;t.setSiteSection(e.sectionid,null,n,null,r);const i=e.vcid||null;t.setVisitor(i,null)}setCustomKeys(t){const{custom:e}=this.options;let n=!1;for(const r in e)if(pt(e,r)){let i=e[r];i&&"string"!=typeof i&&(i=i.toString()),n||(t._adRequest._keyValues.push(""),n=!0),"_fw_gdpr"===r?this.adsManager._fwGDPR=e[r]:"_fw_gdpr_consent"===r?this.adsManager._fwGDPRConsent=i:t.addKeyValue(r,i)}}setConsentData(){const{custom:t}=this.options,e=this.adsManager._consentManager;if(e){try{if(this.sdk.PARAMETER_USE_GPP&&!e._gppConsentManager._gpp&&(t.gpp||t.gpp_sid)){const n=e._gppConsentManager,r={gppString:t.gpp,sectionid:t.gpp_sid,applicableSections:t.gpp_sid},i=t=>{if("getGPPData"===t)return r};n._gpp=i,n._gppConsentManagerWrapped&&n._gppConsentManagerWrapped._getGPPValuesFromGPPData(r)}}catch(t){this.logger.debug(t)}try{if(this.sdk.PARAMETER_USE_GDPR_TCFAPI&&!e._tcfConsentManager._tcfapiImpl&&(t._fw_gdpr||t._fw_gdpr_consent)){const n={gdprApplies:t._fw_gdpr,tcString:t._fw_gdpr_consent};e._tcfConsentManager._getTCStringFromTCData(n)}}catch(t){this.logger.debug(t)}try{if(this.sdk.PARAMETER_USE_CCPA_USPAPI&&!e._uspConsentManager._fwUSPString&&t.ccpa){const n=(e,n,r)=>{if("getUSPData"===e){r({uspString:t.ccpa},"useUSP")}};e._uspConsentManager._getUSPData(n)}}catch(t){this.logger.debug(t)}}}requestAds(t){const e=t.getContainer(),n=e.querySelector(".jw-wrapper");n.id=`${e.id}-jw-wrapper`,this.currentAdContext.registerVideoDisplayBase(n.id),this.setRequestSettings(this.currentAdContext,t),this.currentAdContext.submitRequest()}setRequestSettings(t,e){const{sdk:n}=this,r=e.getConfig();let i=n.VIDEO_ASSET_AUTO_PLAY_TYPE_NONE;r.autostart&&(i=r.playOnViewable?n.VIDEO_ASSET_AUTO_PLAY_TYPE_ATTENDED:n.VIDEO_ASSET_AUTO_PLAY_TYPE_UNATTENDED);const o=Math.floor(2147483648*Math.random()),s=this.options.afid||null;"LIVE"===r.streamType||this.streamType&&"LIVE"===this.streamType.toUpperCase()?(t.setVideoAsset(this._fwassetid,this._fwduration,null,null,i,o,null,s,n.VIDEO_ASSET_DURATION_TYPE_VARIABLE),t.setRequestMode(n.REQUEST_MODE_LIVE)):t.setVideoAsset(this._fwassetid,this._fwduration,null,null,i,o,null,s);const a=Math.floor(r.bandwidthEstimate/1e3);t.setParameter(n.PARAMETER_DESIRED_BITRATE,a,n.PARAMETER_LEVEL_OVERRIDE),t.setParameter(n.PARAMETER_EXTENSION_CONTENT_VIDEO_ENABLED,!1,n.PARAMETER_LEVEL_GLOBAL),this.options.capabilities&&this.setCapabilities(t)}setCapabilities(t){const{options:e,sdk:n}=this,r=e.capabilities;if(r.flag)for(const e in r.flag)if(null!=e&&e.length){const i="on"===r.flag[e]?n.CAPABILITY_STATUS_ON:n.CAPABILITY_STATUS_OFF,o=n[e]?n[e]:e;t.setCapability(o,i)}r.metr}destroy(){this.responsePromise=null,this.adsManager.dispose()}}const _t=(e,n,r,i=null)=>{const o={[r.TIME_POSITION_CLASS_PREROLL]:"pre",[r.TIME_POSITION_CLASS_MIDROLL]:"mid",[r.TIME_POSITION_CLASS_POSTROLL]:"post",[r.TIME_POSITION_CLASS_OVERLAY]:"overlay",[r.TIME_POSITION_CLASS_DISPLAY]:"display"};return{type:e,client:t,adposition:o[i]||V(n),viewable:n.getViewable()}};let vt=null,yt=!1;const mt=t=>{t.stopPropagation()};class wt{constructor(t,e,n,r,i,o){n.utils.extend(this,n.Events),this.item=t,this.options=e,this.streamType=i,this.sdk=o,this.player=n,this.playerContainer=n.getContainer(),this.utils=n.utils,this.style=n.utils.style,this.environment=n.getEnvironment(),this.instreamProvider=r,this.initAdsManagerPromise=null,this.adsLoadedPromise=null,this.blockingInstreamPlayer=null,this.video=null,this.timeoutAdStart=-1,this.timeoutAdLoad=-1,this.adBlockTimeout=-1,this.progressIntervalId=-1,this.nonlinearContainerId=null,this.slots={prerolls:[],midrolls:[],postrolls:[]},this.playedMidrollIndex=[],this.mobileEventListeners={play:()=>this.adResume({reason:this.reason||"interaction"}),beginFullscreen:t=>this.startFullscreen(t),endFullscreen:t=>this.endFullscreen(t)},this.reason=null,this.playerEventListeners={"idle play pause beforeComplete":this.setVideoState},this.addPlayerListeners(),this._qoe=new n.utils.Timer,this.logger=n.utils.logger.child("ads-freewheel/PlaylistItemManager"),this.adStarted=this.adStarted.bind(this),this.adSlotComplete=this.adSlotComplete.bind(this),this.allAdEvent=this.allAdEvent.bind(this)}init(){this.initAdsManagerPromise=X(this.utils).then((()=>this.destroyed()?null:(this.sdk||(this.sdk=tv.freewheel.SDK),this.adsLoaderManager=new gt(this.player.version,this.player.utils,this.options,this.streamType,this.sdk),this.player.trigger("adManager",{adManager:this.adsLoaderManager.adsManager}),this.player.trigger("adsManager",{adsManager:this.adsLoaderManager.adsManager}),this.adsLoaderManager))).catch((t=>this.asyncError(t))),this.adsLoadedPromise=this.initAdsManagerPromise.then((()=>this.adsLoaderManager.open(this.player,this.options))).then((e=>{if(this.destroyed())return null;const{sdk:n}=this;if(e.success){this.trigger("adRequest",{client:t,networkid:e.response.networkId});const r=this.adsLoaderManager.currentAdContext;this.instreamProvider.setProxy(r);const i=r.getTemporalSlots(),o=[];for(let t=0;t<i.length;t++){const e=i[t];switch(e.getTimePositionClass()){case n.TIME_POSITION_CLASS_PREROLL:this.slots.prerolls.push(e);break;case n.TIME_POSITION_CLASS_OVERLAY:this.slots.midrolls.push(e);break;case n.TIME_POSITION_CLASS_MIDROLL:this.slots.midrolls.push(e),o.push({begin:e.getTimePosition(),text:this.options.cuetext,cueType:"ads",adId:e.getCustomId()?e.getCustomId():null});break;case n.TIME_POSITION_CLASS_POSTROLL:this.slots.postrolls.push(e),o.push({begin:"post",text:this.options.cuetext,cueType:"ads",adId:e.getCustomId()?e.getCustomId():null})}}this.player.addCues(o),this.registerEvents(r),r.setParameter(n.PARAMETER_RENDERER_VIDEO_DISPLAY_CONTROLS_WHEN_PAUSE,!1,n.PARAMETER_LEVEL_GLOBAL)}else this.asyncError(e);return this.slots.prerolls.length&&this.utils.addClass(this.playerContainer,d),e})).catch((t=>this.asyncError(t)))}registerEvents(t){const{sdk:e}=this;t.addEventListener(e.EVENT_SLOT_STARTED,this.adStarted),t.addEventListener(e.EVENT_SLOT_ENDED,this.adSlotComplete),t.addEventListener(e.EVENT_AD,this.allAdEvent)}startFullscreen(t){this.sendFullscreenEvent(t,!0)}endFullscreen(t){this.sendFullscreenEvent(t,!1)}sendFullscreenEvent(t,e){this.blockingInstreamPlayer&&this.blockingInstreamPlayer.trigger("fullscreenchange",{target:t.target,jwstate:e})}adErrorEventObject(e){const{sdk:n}=this;if(60003===e.adErrorCode)return e;const r=e.adInstance,i=tv?e[n.INFO_KEY_ERROR_INFO]:"FreeWheel SDK unavailable";return{id:r?r.getAdId():void 0,client:t,message:`Ad Error: ${i}`,code:e[n.INFO_KEY_ERROR_CODE],module:e[n.INFO_KEY_ERROR_MODULE]}}adEventObject(e){const n=this.currentSlot,r={client:t};if(n&&(r.tag=n.getCustomId()),!e&&n&&(e=n.getCurrentAdInstance()),!e)return r;const i=n.getTimePositionClass(),o="OVERLAY"===i,s=e.getActiveCreativeRendition();r.freewheel={ad:{adId:e.getAdId()}},r.adposition=i.toLowerCase().replace("roll",""),r.id=e.getAdId(),r.linear=o?"nonlinear":"linear",r.creativetype="static",r.viewable=this.player.getViewable(),o||(r.creativetype="VPAID"===s.getCreativeApi()?"vpaid-js":s.getContentType());const a=n.getAdCount();return a>1&&(r.sequence=n.getAdInstances().indexOf(e)+1,r.podcount=a),e.skipoffset&&(r.skipoffset=e.skipoffset),r}allAdEvent(t){const{sdk:n}=this,i=t.subType,o=t.adInstance,s=i===n.EVENT_AD_PAUSE?"paused":e;switch(i){case n.EVENT_AD_IMPRESSION:this.adImpression(t);break;case n.EVENT_AD_IMPRESSION_END:this.setTimeoutAdStart(t);break;case n.EVENT_AD_PAUSE:case n.EVENT_AD_RESUME:null===this.reason&&"VPAID"===o.getActiveCreativeRendition().getCreativeApi()&&(this.reason=r),this.setState(o,s);break;case n.EVENT_AD_COMPLETE:this.adComplete(t);break;case n.EVENT_AD_CLICK:this.adClick(t);break;case n.EVENT_ERROR:this.adError(t);break;case n.EVENT_AD_AUTO_PLAY_BLOCKED:this.pause({reason:"autostart"}),this.currentSlot&&(a=this.currentSlot.play,vt&&!vt.Features.headless&&vt.OS.iOS&&yt&&(a(),yt=!1),this.instreamProvider.trigger("playAttemptFailed"))}var a}setupSkipButton(t){let e=this.options.config.skipoffset;const n="POSTROLL"===t.slot.getTimePositionClass()?-1:t.slot.getTimePosition(),r=this.adsLoaderManager.tagMap;if(r){const t=r[n];void 0!==(null==t?void 0:t.skipoffset)&&(e=t.skipoffset)}void 0!==e&&this.blockingInstreamPlayer&&(this.blockingInstreamPlayer.off(h,this.skipAd,this),t.adInstance.skipoffset=e,this.blockingInstreamPlayer.setupSkipButton(e,this.options,this.utils.noop),this.blockingInstreamPlayer.on(h,this.skipAd,this))}adStarted(t){const e=t.slot.getTimePositionClass();e!==this.sdk.TIME_POSITION_CLASS_OVERLAY&&(this.player.trigger(c,_t(c,this.player,this.sdk,e)),this.blockingInstreamPlayer.on("destroyed",(()=>{this.player.trigger(f,_t(f,this.player,this.sdk,e))})))}adImpression(t){clearTimeout(this.timeoutAdLoad),clearTimeout(this.timeoutAdStart),clearTimeout(this.adBlockTimeout);const n=t.adInstance,r=this.adEventObject(n),i="VPAID"===n.getActiveCreativeRendition().getCreativeApi();if(this.utils.removeClass(this.playerContainer,g),this.utils.toggleClass(this.playerContainer,p,i),this.isPreroll(r)&&(this._qoe.tick("adImpression"),r.timeLoading=this._qoe.between("adLoading","adImpression")),this.updateAdPosition(n),this.progressInterval(this.currentSlot),this.setupSkipButton(t),this.setupNonlinearContainer(),this.resize(),this.environment.OS.mobile&&0===n._context._adVolume&&this.player.setMute(this.instreamProvider.isMuted),this.trigger("adImpression",r),i&&this.trigger("adStarted",r),n.getCompanionAdInstances().length){const t=this.utils.extend({},r);t.companions=n.getCompanionAdInstances(),this.trigger("adCompanions",t)}this.setState(t.adInstance,e)}setTimeoutAdStart(){clearTimeout(this.timeoutAdLoad),clearTimeout(this.timeoutAdStart),this.timeoutAdStart=setTimeout((()=>{if(this.destroyed())return;const t=this.adEventObject();t.message="Ad Error: Creative timeout",this.trigger(l,t),this.currentSlot.skipCurrentAd()}),this.options.loadVideoTimeout)}setAdBlockTimeout(){this.player.getAdBlock()&&(clearTimeout(this.adBlockTimeout),this.adBlockTimeout=setTimeout((()=>{this.destroyed()||this.adError({id:void 0,client:t,message:"Ad playback blocked by an ad blocker",code:900,adErrorCode:60003})}),this.options.adBlockTimeout))}setVideoState({type:t}){var e;const{sdk:n}=this;if(null!=this&&null!=(e=this.adsLoaderManager)&&e.currentAdContext){const e={idle:n.VIDEO_STATE_STOPPED,play:n.VIDEO_STATE_PLAYING,pause:n.VIDEO_STATE_PAUSED,beforeComplete:n.VIDEO_STATE_COMPLETED};this.adsLoaderManager.currentAdContext.setVideoState(e[t])}}adResume({reason:t}){this.hasResumed||(this.reason=t,this.currentSlot.resume()),this.hasResumed=!1}skipAd(){const t=this.currentSlot;t.getCurrentAdInstance()&&(clearInterval(this.progressIntervalId),this.trigger(h,this.adEventObject()),t.skipCurrentAd())}stopAd(){const t=this.currentSlot;t&&(clearInterval(this.progressIntervalId),this.trigger(h,this.adEventObject()),t.stop())}adComplete(t){clearInterval(this.progressIntervalId),this.trigger("adComplete",this.adEventObject(t.adInstance))}adSlotComplete(t){const e=t.slot;e&&"POSTROLL"===e.getTimePositionClass()?setTimeout((()=>{this.stopBlocking(),this.nonlinearContainerId=null,this.destroy()}),0):(this.stopBlocking(),this.nonlinearContainerId=null)}adClick(t){this.trigger("adClick",this.adEventObject(t.adInstance)),this.pause({reason:"clickthrough"})}adError(t){this.options.debug&&this.logger.error(t);const e=this.adErrorEventObject(t);900===e.code&&(this.timeoutAdStart=setTimeout((()=>this.destroy()),0));const n=t?t.adInstance:null;n&&this.isPreroll(this.adEventObject(n))&&(this._qoe.tick("adError"),e.timeLoading=this._qoe.between("adLoading","adError")),this.trigger(l,e)}updateAdPosition(t){this.instreamProvider&&this.instreamProvider.trigger(i,{position:Math.max(t.getPlayheadTime(),0),duration:t.getDuration()})}prepareToPlayAd(t){if(!this.destroyed())if(this.blockingInstreamPlayer){const e=t?"":this.options.loadingAd;this.blockingInstreamPlayer.setText(e)}else this.startBlocking(t)}playUnscheduledAd(t){const{sdk:e}=this;let n=this.adsLoaderManager.currentAdContext.getSlotByCustomId(t);if(n)return void this._skipAndPlayAd(n);const r=this.unscheduledAdContext=this.adsLoaderManager.adsManager.newContext();this.adsLoaderManager.setContextSettings(r),r.addTemporalSlot(t,e.ADUNIT_MIDROLL,this.player.getPosition()),this.adsLoaderManager.setCustomKeys(r),this.registerEvents(r),r.addEventListener(e.EVENT_ERROR,this.adError),r.addEventListener(e.EVENT_REQUEST_COMPLETE,(()=>{if(n=r.getSlotByCustomId(t),n)return void this._skipAndPlayAd(n);const e=this.adEventObject();e.message="Ad Error: No ads found.",this.trigger(l,e)})),this.adsLoaderManager.setRequestSettings(r,this.player),r.submitRequest()}_skipAndPlayAd(t){this.blockingInstreamPlayer&&this.skipAd(),this.playNextAd([t])}addMobileListeners(){Object.keys(this.mobileEventListeners).forEach((t=>{this.video.addEventListener(t,this.mobileEventListeners[t])}))}removeMobileListeners(){Object.keys(this.mobileEventListeners).forEach((t=>{this.video.removeEventListener(t,this.mobileEventListeners[t])}))}addPlayerListeners(){this.player.on(this.playerEventListeners,this)}removePlayerListeners(){this.player.off(this.playerEventListeners,this)}startBlocking(){var t;this.blockingInstreamPlayer||(!function(t){if(vt=t.getEnvironment(),!vt||vt.Features||vt.Features.headless||!vt.OS.iOS||vt.Browser.version.major<10)return;const e=t.getContainer();e.requestFullscreen||e.webkitRequestFullscreen||t.getFullscreen()&&(t.setFullscreen(!1),yt=!0)}(this.player),this._qoe.tick("adLoading"),clearTimeout(this.timeoutAdLoad),clearTimeout(this.timeoutAdStart),clearTimeout(this.adBlockTimeout),this.timeoutAdLoad=setTimeout((()=>{if(this.destroyed())return;this.currentSlot&&this.currentSlot.stop();const t=this.adEventObject();t.message="Ad Error: Request timeout",this.trigger(l,t),this.stopBlocking()}),this.options.requestTimeout),this.utils.addClass(this.playerContainer,d),this.blockingInstreamPlayer=this.player.createInstream().init(),this.video=this.instreamProvider.video=this.blockingInstreamPlayer.getMediaElement(),this.video.addEventListener("mousedown",mt),this.video.addEventListener("pointerdown",mt),null==(t=this.unscheduledAdContext)||t.registerVideoDisplayBase(`${this.playerContainer.id}-jw-wrapper`),this.player.getPip()&&this.player.requestPip(this.video),this.blockingInstreamPlayer.applyProviderListeners(this.instreamProvider),this.environment.OS.mobile&&(this.removeMobileListeners(),this.addMobileListeners()))}stopBlocking(){this.destroyed()||(clearTimeout(this.timeoutAdLoad),clearTimeout(this.timeoutAdStart),clearTimeout(this.adBlockTimeout),this.utils.removeClass(this.playerContainer,[p,d,g]),this.environment.OS.mobile&&this.removeMobileListeners(),this.blockingInstreamPlayer&&(this.instreamProvider.off(),this.blockingInstreamPlayer.destroy(),this.blockingInstreamPlayer=null,this.video.removeEventListener("mousedown",mt),this.video.removeEventListener("pointerdown",mt),this.video=this.instreamProvider.video=null))}setupNonlinearContainer(){if(!this.nonlinearContainerId)return;const t=document.getElementById(this.nonlinearContainerId);this.utils.addClass(t,"jw-freewheel-nonlinear-container"),this.style(t,{top:"auto",height:"100%",width:"100%"})}beforePlay(t){this.reason=null!=t&&t.playReason?t.playReason:n;const e=!this.slots.prerolls.length;this.startBlocking(e),this.utils.addClass(this.playerContainer,g),this.initAdsManagerPromise.then((()=>{this.setAdBlockTimeout(),this.adsLoaderManager.requestAds(this.player)})),this.adsLoadedPromise.then((t=>{!this.destroyed()&&t.success&&this.playNextAd(this.slots.prerolls)})).catch((t=>this.asyncError(t)))}playNextAd(t){if(t.length){const e=this.currentSlot=t.shift();if("OVERLAY"!==e.getTimePositionClass()){const t=!e.getAdCount();this.prepareToPlayAd(t),this.nonlinearContainerId=null}else this.utils.addClass(this.playerContainer,d),this.nonlinearContainerId=`_fw_ad_container_html_${this.currentSlot.getCustomId()}_`;this.setTimeoutAdStart(),e.play(),"MIDROLL"===e.getTimePositionClass()&&this.setVideoState({type:"pause"})}else this.stopBlocking()}beforeComplete(){this.slots.postrolls.length&&this.playNextAd(this.slots.postrolls)}time(t){if(this.slots.midrolls.length){const e=this.getNextMidRollIndex(t.position);if(e>=0){const t=[this.slots.midrolls[e]];this.playNextAd(t)}}}progressInterval(t){if(clearInterval(this.progressIntervalId),!t)return;const e=t.getCurrentAdInstance(),n=t.getAdInstances().indexOf(e)+1,r=e.getDuration(),i=t.getAdCount();let o=-1;const s=this.options.admessage||"",a=this.options.admessagedynamickey,u=this.options.podmessage||"",l=new RegExp("__AD_POD_CURRENT__","g"),c=new RegExp("__AD_POD_LENGTH__","g");this.progressIntervalId=setInterval((()=>{const t=e.getPlayheadTime(),f=r-t;if(o!==f){if(o=f,this.blockingInstreamPlayer){let t,e=s.replace(a,`$1${Math.round(f)}$2`);i>1&&(t=u.replace(l,n),e=`${t.replace(c,i)}  ${e}`),this.blockingInstreamPlayer.setText(e)}if(r>0){const n=this.adEventObject(e);n.position=t,n.duration=r,this.trigger("adTime",n),this.updateAdPosition(e)}}}),250)}getNextMidRollIndex(t){let e=-1;if(this.playedMidrollIndex.length>=this.slots.midrolls.length)return e;for(let n=0;n<this.slots.midrolls.length;n++){if(!(this.slots.midrolls[n].getTimePosition()<=t))break;e=n}return this.playedMidrollIndex.indexOf(e)<0&&e>=0?(this.playedMidrollIndex.push(e),e):-1}setState(t,n){if(this.currentSlot.getTimePositionClass()===this.sdk.TIME_POSITION_CLASS_OVERLAY)return;const r=this.adEventObject(t);if(r.newstate=n,null!==this.reason){r[n===e?"playReason":"pauseReason"]=this.reason,this.reason=null}this.instreamProvider.trigger("state",r)}asyncError(t){this.destroyed()||(t&&this.adError(t),this.timeoutAdStart=setTimeout((()=>this.destroy()),0))}pause({reason:t}){this.currentSlot&&!this.video.paused&&(this.reason=t||n,this.currentSlot.pause())}resume({reason:t}){this.currentSlot&&this.video.paused&&(this.reason=t||n,this.currentSlot.resume(),this.hasResumed=!0)}resize(t,e){var n;const r=document.getElementById(this.nonlinearContainerId);if(r){const t=r.querySelector("iframe"),e=this.player.getSafeRegion(!0);this.style(t,{left:(e.width-t.offsetWidth)/2})}null!=this&&null!=(n=this.adsLoaderManager)&&n.currentAdContext&&t&&e&&this.adsLoaderManager.currentAdContext.resize(t,e)}destroy(){clearInterval(this.progressIntervalId),this.off(),this.destroyed()||(this.removePlayerListeners(),this.currentSlot&&this.currentSlot.stop(),this.blockingInstreamPlayer&&(this.blockingInstreamPlayer.off(null,null,this),this.stopBlocking()),this.destroyAdContext(this.unscheduledAdContext),this.adsLoaderManager&&(this.adsLoaderManager.destroy(),this.destroyAdContext(this.adsLoaderManager.currentAdContext)),clearTimeout(this.timeoutAdLoad),clearTimeout(this.timeoutAdStart),clearTimeout(this.adBlockTimeout),this.nonlinearContainerId=null,this.item=null,this.options=null,this.player.off(null,null,this),this.player=null,this.instreamProvider.off(),this.instreamProvider.setProxy(null),this.instreamProvider=null,this.video=null,this.initAdsManagerPromise=null,this.adsLoadedPromise=null)}destroyAdContext(t){const{sdk:e}=this;t&&(t.removeEventListener(e.EVENT_SLOT_STARTED,this.adStarted),t.removeEventListener(e.EVENT_SLOT_ENDED,this.adSlotComplete),t.removeEventListener(e.EVENT_AD,this.allAdEvent),t.dispose())}destroyed(){return!this.item}isPreroll(t){return"pre"===t.adposition&&(void 0===t.podcount||0===t.sequence)}}!function(t){if(t&&"undefined"!=typeof window){var e=document.createElement("style");e.setAttribute("media","screen"),e.innerHTML=t,document.head.appendChild(e)}}(".jwplayer.jw-flag-ads-freewheel.jw-flag-floating .jw-wrapper,.jwplayer.jw-flag-ads-freewheel.jw-freewheel-before-impression .jw-media video{pointer-events:none}.jwplayer.jw-flag-ads-freewheel.jw-flag-touch.jwplayer.jw-flag-ads-freewheel.jw-state-paused .jw-display-icon-container{display:none}.jwplayer.jw-flag-ads-freewheel.jw-flag-user-inactive.jw-state-playing .jw-freewheel-nonlinear-container{bottom:.5em}.jwplayer.jw-flag-ads-freewheel .jw-freewheel-nonlinear-container{bottom:3.5em;pointer-events:none}.jwplayer.jw-flag-ads-freewheel .jw-freewheel-nonlinear-container iframe{pointer-events:all}.jwplayer.jw-flag-ads-freewheel.jw-flag-time-slider-above .jw-freewheel-nonlinear-container{bottom:66px}"),function(t,e,n){try{(window.jwplayerPluginJsonp||window.jwplayer().registerPlugin)(t,e,n)}catch(t){}}(t,"8.1",class extends v{constructor(e,n){super(e,n,null,t),this.resetSchedule=()=>{this.destroyAdsManager(),function(t){const e=t.getCues();if(Array.isArray(e)&&e.length){const n=e.filter((t=>"ads"!==t.cueType));t.setCues(n)}}(this.player)},this.rulesAllowAdPlayback=t=>{const e=t.getAdRules(),n=0===e.frequency&&1===this.playlistItemEventCount,r=this.playlistItemEventCount>=e.startOn&&(this.playlistItemEventCount-e.startOn)%e.frequency==0;return n||r},this.onAll=(t,e)=>{t===i?this.playlistItemManager.time(e):"beforeComplete"===t&&this.playlistItemManager.beforeComplete()},this.initAdsManager=(t,e)=>{const n=t.item,r=new K(this.pluginConfig||{},this.player.getConfig(),n);this.resetSchedule(),this.rulesAllowAdPlayback(r)?r.getSchedule()&&(this.playlistItemManager=new wt(n,r,this.player,this.instreamProvider,e,this.sdk||null),this.playlistItemManager.init(),this.playlistItemManager.on("all",((t,e)=>this.player.trigger(t,e))),this.player.once("beforePlay",(t=>this.playlistItemManager.beforePlay(t)),this.playlistItemManager).on("resize",(({width:t,height:e})=>this.playlistItemManager.resize(t,e)),this.playlistItemManager).on("fullscreen",(()=>this.playlistItemManager.resize()),this.playlistItemManager).on("all",this.onAll,this.playlistItemManager)):r.adschedule=null},this.playAd=t=>{t&&this.playlistItemManager&&this.playlistItemManager.playUnscheduledAd(t)},this.stopAd=()=>{this.playlistItemManager&&this.playlistItemManager.stopAd()},this.utils.extend(this,this.player.Events),this.instreamProvider=new it(this.utils,this.player.Events),this.adManagerURL=this.pluginConfig.freewheel?this.pluginConfig.freewheel.adManagerURL:null,this.playlistItemEventCount=0,this.version=ot,this.logger=e.utils.logger.child("ads-freewheel/freewheelPlugin"),X(this.utils,this.adManagerURL).then((()=>{this.sdk=tv.freewheel.SDK;const{sdk:t}=this;this.pluginConfig.debug?t.setLogLevel(t.LOG_LEVEL_DEBUG):t.setLogLevel(t.LOG_LEVEL_QUIET)})).catch((t=>this.logger.debug(t))),this.player.playAd=this.playAd,this.player.on("ready",(()=>{X(this.utils,this.adManagerURL).catch((()=>{this.handleDependencyError("Ad playback blocked by an ad blocker",2e4)})),this.entitlementsPromise.catch((t=>{this.handleDependencyError(`Ad Error: ${t.message}`,60002)}))})).on("playlistItem",(t=>{var e;this.playlistItemEventCount++;const n=t.item.streamtype||(null==(e=t.item.freewheel)?void 0:e.streamtype)||this.pluginConfig.freewheel.streamtype||this.playerConfig.streamtype;this.initAdsManager(t,n)})).on("playlistComplete",(()=>{this.resetSchedule()})).on("cast",(t=>{t.active&&this.resetSchedule()})).on("destroyPlugin",(()=>{this.destroy()})),this.entitlementsPromise=rt(this.utils,this.playerKey,this.pluginConfig),this.entitlementsPromise.catch((t=>this.logger.debug(t))),this.destroy=this.destroyAdsManager}})}();
